---
doc_type: FAST MCP Reference
crawled_at: 2025/11/23 12:02:44
first_url: https://gofastmcp.com/python-sdk/
---

# Page: https://gofastmcp.com/python-sdk/

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

exceptions

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.exceptions
  * Classes
  * FastMCPError 
  * ValidationError 
  * ResourceError 
  * ToolError 
  * PromptError 
  * InvalidSignature 
  * ClientError 
  * NotFoundError 
  * DisabledError 



# exceptions

Copy page

Copy page

# 

​

`fastmcp.exceptions`

Custom exceptions for FastMCP.

## 

​

Classes

### 

​

`FastMCPError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L6)

Base error for FastMCP.

### 

​

`ValidationError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L10)

Error in validating parameters or return values.

### 

​

`ResourceError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L14)

Error in resource operations.

### 

​

`ToolError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L18)

Error in tool operations.

### 

​

`PromptError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L22)

Error in prompt operations.

### 

​

`InvalidSignature` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L26)

Invalid signature for use with FastMCP.

### 

​

`ClientError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L30)

Error in client operations.

### 

​

`NotFoundError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L34)

Object not found.

### 

​

`DisabledError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L38)

Object is disabled.

[mcp_configNext](/python-sdk/fastmcp-mcp_config)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-cli-run

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.cli

run

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.cli.run
  * Functions
  * is_url 
  * create_client_server 
  * create_mcp_config_server 
  * load_mcp_server_config 
  * run_command 
  * run_v1_server_async 



fastmcp.cli

# run

Copy page

Copy page

# 

​

`fastmcp.cli.run`

FastMCP run command implementation with enhanced type hints.

## 

​

Functions

### 

​

`is_url` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L25)

Copy
    
    
    is_url(path: str) -> bool
    

Check if a string is a URL.

### 

​

`create_client_server` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L31)

Copy
    
    
    create_client_server(url: str) -> Any
    

Create a FastMCP server from a client URL. **Args:**

  * `url`: The URL to connect to

**Returns:**

  * A FastMCP server instance



### 

​

`create_mcp_config_server` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L51)

Copy
    
    
    create_mcp_config_server(mcp_config_path: Path) -> FastMCP[None]
    

Create a FastMCP server from a MCPConfig.

### 

​

`load_mcp_server_config` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L62)

Copy
    
    
    load_mcp_server_config(config_path: Path) -> MCPServerConfig
    

Load a FastMCP configuration from a fastmcp.json file. **Args:**

  * `config_path`: Path to fastmcp.json file

**Returns:**

  * MCPServerConfig object



### 

​

`run_command` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L79)

Copy
    
    
    run_command(server_spec: str, transport: TransportType | None = None, host: str | None = None, port: int | None = None, path: str | None = None, log_level: LogLevelType | None = None, server_args: list[str] | None = None, show_banner: bool = True, use_direct_import: bool = False, skip_source: bool = False) -> None
    

Run a MCP server or connect to a remote one. **Args:**

  * `server_spec`: Python file, object specification (file:obj), config file, or URL
  * `transport`: Transport protocol to use
  * `host`: Host to bind to when using http transport
  * `port`: Port to bind to when using http transport
  * `path`: Path to bind to when using http transport
  * `log_level`: Log level
  * `server_args`: Additional arguments to pass to the server
  * `show_banner`: Whether to show the server banner
  * `use_direct_import`: Whether to use direct import instead of subprocess
  * `skip_source`: Whether to skip source preparation step



### 

​

`run_v1_server_async` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/run.py#L200)

Copy
    
    
    run_v1_server_async(server: FastMCP1x, host: str | None = None, port: int | None = None, transport: TransportType | None = None) -> None
    

Run a FastMCP 1.x server using async methods. **Args:**

  * `server`: FastMCP 1.x server instance
  * `host`: Host to bind to
  * `port`: Port to bind to
  * `transport`: Transport protocol to use



[sharedPrevious](/python-sdk/fastmcp-cli-install-shared)[__init__Next](/python-sdk/fastmcp-client-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-oauth_callback

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

oauth_callback

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.oauth_callback
  * Functions
  * create_callback_html 
  * create_oauth_callback_server 
  * Classes
  * CallbackResponse 
  * from_dict 
  * to_dict 
  * OAuthCallbackResult 



fastmcp.client

# oauth_callback

Copy page

Copy page

# 

​

`fastmcp.client.oauth_callback`

OAuth callback server for handling authorization code flows. This module provides a reusable callback server that can handle OAuth redirects and display styled responses to users.

## 

​

Functions

### 

​

`create_callback_html` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/oauth_callback.py#L34)

Copy
    
    
    create_callback_html(message: str, is_success: bool = True, title: str = 'FastMCP OAuth', server_url: str | None = None) -> str
    

Create a styled HTML response for OAuth callbacks.

### 

​

`create_oauth_callback_server` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/oauth_callback.py#L103)

Copy
    
    
    create_oauth_callback_server(port: int, callback_path: str = '/callback', server_url: str | None = None, result_container: OAuthCallbackResult | None = None, result_ready: anyio.Event | None = None) -> Server
    

Create an OAuth callback server. **Args:**

  * `port`: The port to run the server on
  * `callback_path`: The path to listen for OAuth redirects on
  * `server_url`: Optional server URL to display in success messages
  * `result_container`: Optional container to store callback results
  * `result_ready`: Optional event to signal when callback is received

**Returns:**

  * Configured uvicorn Server instance (not yet running)



## 

​

Classes

### 

​

`CallbackResponse` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/oauth_callback.py#L80)

**Methods:**

#### 

​

`from_dict` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/oauth_callback.py#L87)

Copy
    
    
    from_dict(cls, data: dict[str, str]) -> CallbackResponse
    

#### 

​

`to_dict` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/oauth_callback.py#L90)

Copy
    
    
    to_dict(self) -> dict[str, str]
    

### 

​

`OAuthCallbackResult` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/oauth_callback.py#L95)

Container for OAuth callback results, used with anyio.Event for async coordination.

[messagesPrevious](/python-sdk/fastmcp-client-messages)[progressNext](/python-sdk/fastmcp-client-progress)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

json_schema

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.json_schema
  * Functions
  * compress_schema 



fastmcp.utilities

# json_schema

Copy page

Copy page

# 

​

`fastmcp.utilities.json_schema`

## 

​

Functions

### 

​

`compress_schema` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/json_schema.py#L200)

Copy
    
    
    compress_schema(schema: dict, prune_params: list[str] | None = None, prune_defs: bool = True, prune_additional_properties: bool = True, prune_titles: bool = False) -> dict
    

Remove the given parameters from the schema. **Args:**

  * `schema`: The schema to compress
  * `prune_params`: List of parameter names to remove from properties
  * `prune_defs`: Whether to remove unused definitions
  * `prune_additional_properties`: Whether to remove additionalProperties: false
  * `prune_titles`: Whether to remove title fields from the schema



[inspectPrevious](/python-sdk/fastmcp-utilities-inspect)[json_schema_typeNext](/python-sdk/fastmcp-utilities-json_schema_type)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-json_schema_type

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

json_schema_type

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.json_schema_type
  * Functions
  * json_schema_to_type 
  * Classes
  * JSONSchema 



fastmcp.utilities

# json_schema_type

Copy page

Copy page

# 

​

`fastmcp.utilities.json_schema_type`

Convert JSON Schema to Python types with validation. The json_schema_to_type function converts a JSON Schema into a Python type that can be used for validation with Pydantic. It supports:

  * Basic types (string, number, integer, boolean, null)
  * Complex types (arrays, objects)
  * Format constraints (date-time, email, uri)
  * Numeric constraints (minimum, maximum, multipleOf)
  * String constraints (minLength, maxLength, pattern)
  * Array constraints (minItems, maxItems, uniqueItems)
  * Object properties with defaults
  * References and recursive schemas
  * Enums and constants
  * Union types

Example:

Copy
    
    
    schema = {
        "type": "object",
        "properties": {
            "name": {"type": "string", "minLength": 1},
            "age": {"type": "integer", "minimum": 0},
            "email": {"type": "string", "format": "email"}
        },
        "required": ["name", "age"]
    }
    
    # Name is optional and will be inferred from schema's "title" property if not provided
    Person = json_schema_to_type(schema)
    # Creates a validated dataclass with name, age, and optional email fields
    

## 

​

Functions

### 

​

`json_schema_to_type` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/json_schema_type.py#L110)

Copy
    
    
    json_schema_to_type(schema: Mapping[str, Any], name: str | None = None) -> type
    

Convert JSON schema to appropriate Python type with validation. **Args:**

  * `schema`: A JSON Schema dictionary defining the type structure and validation rules
  * `name`: Optional name for object schemas. Only allowed when schema type is “object”. If not provided for objects, name will be inferred from schema’s “title” property or default to “Root”.

**Returns:**

  * A Python type (typically a dataclass for objects) with Pydantic validation

**Raises:**

  * `ValueError`: If a name is provided for a non-object schema

**Examples:** Create a dataclass from an object schema:

Copy
    
    
    schema = {
        "type": "object",
        "title": "Person",
        "properties": {
            "name": {"type": "string", "minLength": 1},
            "age": {"type": "integer", "minimum": 0},
            "email": {"type": "string", "format": "email"}
        },
        "required": ["name", "age"]
    }
    
    Person = json_schema_to_type(schema)
    # Creates a dataclass with name, age, and optional email fields:
    # @dataclass
    # class Person:
    #     name: str
    #     age: int
    #     email: str | None = None
    

Person(name=“John”, age=30) Create a scalar type with constraints:

Copy
    
    
    schema = {
        "type": "string",
        "minLength": 3,
        "pattern": "^[A-Z][a-z]+$"
    }
    
    NameType = json_schema_to_type(schema)
    # Creates Annotated[str, StringConstraints(min_length=3, pattern="^[A-Z][a-z]+$")]
    
    @dataclass
    class Name:
        name: NameType
    

## 

​

Classes

### 

​

`JSONSchema` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/json_schema_type.py#L77)

[json_schemaPrevious](/python-sdk/fastmcp-utilities-json_schema)[loggingNext](/python-sdk/fastmcp-utilities-logging)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-openapi

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

openapi

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.openapi
  * Functions
  * format_array_parameter 
  * format_deep_object_parameter 
  * parse_openapi_to_http_routes 
  * clean_schema_for_display 
  * generate_example_from_schema 
  * format_json_for_description 
  * format_description_with_responses 
  * extract_output_schema_from_responses 
  * Classes
  * ParameterInfo 
  * RequestBodyInfo 
  * ResponseInfo 
  * HTTPRoute 
  * OpenAPIParser 
  * parse 



fastmcp.utilities

# openapi

Copy page

Copy page

# 

​

`fastmcp.utilities.openapi`

## 

​

Functions

### 

​

`format_array_parameter` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L41)

Copy
    
    
    format_array_parameter(values: list, parameter_name: str, is_query_parameter: bool = False) -> str | list
    

Format an array parameter according to OpenAPI specifications. **Args:**

  * `values`: List of values to format
  * `parameter_name`: Name of the parameter (for error messages)
  * `is_query_parameter`: If True, can return list for explode=True behavior

**Returns:**

  * String (comma-separated) or list (for query params with explode=True)



### 

​

`format_deep_object_parameter` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L91)

Copy
    
    
    format_deep_object_parameter(param_value: dict, parameter_name: str) -> dict[str, str]
    

Format a dictionary parameter for deepObject style serialization. According to OpenAPI 3.0 spec, deepObject style with explode=true serializes object properties as separate query parameters with bracket notation. For example: `{"id": "123", "type": "user"}` becomes `param[id]=123&param[type]=user`. **Args:**

  * `param_value`: Dictionary value to format
  * `parameter_name`: Name of the parameter

**Returns:**

  * Dictionary with bracketed parameter names as keys



### 

​

`parse_openapi_to_http_routes` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L201)

Copy
    
    
    parse_openapi_to_http_routes(openapi_dict: dict[str, Any]) -> list[HTTPRoute]
    

Parses an OpenAPI schema dictionary into a list of HTTPRoute objects using the openapi-pydantic library. Supports both OpenAPI 3.0.x and 3.1.x versions.

### 

​

`clean_schema_for_display` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L741)

Copy
    
    
    clean_schema_for_display(schema: JsonSchema | None) -> JsonSchema | None
    

Clean up a schema dictionary for display by removing internal/complex fields.

### 

​

`generate_example_from_schema` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L801)

Copy
    
    
    generate_example_from_schema(schema: JsonSchema | None) -> Any
    

Generate a simple example value from a JSON schema dictionary. Very basic implementation focusing on types.

### 

​

`format_json_for_description` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L884)

Copy
    
    
    format_json_for_description(data: Any, indent: int = 2) -> str
    

Formats Python data as a JSON string block for markdown.

### 

​

`format_description_with_responses` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L893)

Copy
    
    
    format_description_with_responses(base_description: str, responses: dict[str, Any], parameters: list[ParameterInfo] | None = None, request_body: RequestBodyInfo | None = None) -> str
    

Formats the base description string with response, parameter, and request body information. **Args:**

  * `base_description`: The initial description to be formatted.
  * `responses`: A dictionary of response information, keyed by status code.
  * `parameters`: A list of parameter information, including path and query parameters. Each parameter includes details such as name, location, whether it is required, and a description.
  * `request_body`: Information about the request body, including its description, whether it is required, and its content schema.

**Returns:**

  * The formatted description string with additional details about responses, parameters,
  * and the request body.



### 

​

`extract_output_schema_from_responses` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L1419)

Copy
    
    
    extract_output_schema_from_responses(responses: dict[str, ResponseInfo], schema_definitions: dict[str, Any] | None = None, openapi_version: str | None = None) -> dict[str, Any] | None
    

Extract output schema from OpenAPI responses for use as MCP tool output schema. This function finds the first successful response (200, 201, 202, 204) with a JSON-compatible content type and extracts its schema. If the schema is not an object type, it wraps it to comply with MCP requirements. **Args:**

  * `responses`: Dictionary of ResponseInfo objects keyed by status code
  * `schema_definitions`: Optional schema definitions to include in the output schema
  * `openapi_version`: OpenAPI version string, used to optimize nullable field handling

**Returns:**

  * MCP-compliant output schema with potential wrapping, or None if no suitable schema found



## 

​

Classes

### 

​

`ParameterInfo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L124)

Represents a single parameter for an HTTP operation in our IR.

### 

​

`RequestBodyInfo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L136)

Represents the request body for an HTTP operation in our IR.

### 

​

`ResponseInfo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L146)

Represents response information in our IR.

### 

​

`HTTPRoute` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L154)

Intermediate Representation for a single OpenAPI operation.

### 

​

`OpenAPIParser` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L255)

Unified parser for OpenAPI schemas with generic type parameters to handle both 3.0 and 3.1. **Methods:**

#### 

​

`parse` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/openapi.py#L619)

Copy
    
    
    parse(self) -> list[HTTPRoute]
    

Parse the OpenAPI schema into HTTP routes.

[filesystemPrevious](/python-sdk/fastmcp-utilities-mcp_server_config-v1-sources-filesystem)[testsNext](/python-sdk/fastmcp-utilities-tests)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-low_level

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

low_level

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server.low_level
  * Classes
  * MiddlewareServerSession 
  * fastmcp 
  * LowLevelServer 
  * fastmcp 
  * create_initialization_options 
  * run 



fastmcp.server

# low_level

Copy page

Copy page

# 

​

`fastmcp.server.low_level`

## 

​

Classes

### 

​

`MiddlewareServerSession` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/low_level.py#L32)

ServerSession that routes initialization requests through FastMCP middleware. **Methods:**

#### 

​

`fastmcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/low_level.py#L40)

Copy
    
    
    fastmcp(self) -> FastMCP
    

Get the FastMCP instance.

### 

​

`LowLevelServer` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/low_level.py#L89)

**Methods:**

#### 

​

`fastmcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/low_level.py#L103)

Copy
    
    
    fastmcp(self) -> FastMCP
    

Get the FastMCP instance.

#### 

​

`create_initialization_options` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/low_level.py#L110)

Copy
    
    
    create_initialization_options(self, notification_options: NotificationOptions | None = None, experimental_capabilities: dict[str, dict[str, Any]] | None = None, **kwargs: Any) -> InitializationOptions
    

#### 

​

`run` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/low_level.py#L125)

Copy
    
    
    run(self, read_stream: MemoryObjectReceiveStream[SessionMessage | Exception], write_stream: MemoryObjectSendStream[SessionMessage], initialization_options: InitializationOptions, raise_exceptions: bool = False, stateless: bool = False)
    

Overrides the run method to use the MiddlewareServerSession.

[httpPrevious](/python-sdk/fastmcp-server-http)[__init__Next](/python-sdk/fastmcp-server-middleware-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-server

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

server

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server.server
  * Functions
  * default_lifespan 
  * add_resource_prefix 
  * remove_resource_prefix 
  * has_resource_prefix 
  * Classes
  * FastMCP 
  * settings 
  * name 
  * instructions 
  * instructions 
  * version 
  * website_url 
  * icons 
  * run_async 
  * run 
  * add_middleware 
  * get_tools 
  * get_tool 
  * get_resources 
  * get_resource 
  * get_resource_templates 
  * get_resource_template 
  * get_prompts 
  * get_prompt 
  * custom_route 
  * add_tool 
  * remove_tool 
  * add_tool_transformation 
  * remove_tool_transformation 
  * tool 
  * tool 
  * tool 
  * add_resource 
  * add_template 
  * add_resource_fn 
  * resource 
  * add_prompt 
  * prompt 
  * prompt 
  * prompt 
  * run_stdio_async 
  * run_http_async 
  * run_sse_async 
  * sse_app 
  * streamable_http_app 
  * http_app 
  * run_streamable_http_async 
  * mount 
  * import_server 
  * from_openapi 
  * from_fastapi 
  * as_proxy 
  * from_client 
  * generate_name 
  * MountedServer 



fastmcp.server

# server

Copy page

Copy page

# 

​

`fastmcp.server.server`

FastMCP - A more ergonomic interface for MCP servers.

## 

​

Functions

### 

​

`default_lifespan` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L113)

Copy
    
    
    default_lifespan(server: FastMCP[LifespanResultT]) -> AsyncIterator[Any]
    

Default lifespan context manager that does nothing. **Args:**

  * `server`: The server instance this lifespan is managing

**Returns:**

  * An empty dictionary as the lifespan result.



### 

​

`add_resource_prefix` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2712)

Copy
    
    
    add_resource_prefix(uri: str, prefix: str, prefix_format: Literal['protocol', 'path'] | None = None) -> str
    

Add a prefix to a resource URI. **Args:**

  * `uri`: The original resource URI
  * `prefix`: The prefix to add

**Returns:**

  * The resource URI with the prefix added

**Examples:** With new style:

Copy
    
    
    add_resource_prefix("resource://path/to/resource", "prefix")
    "resource://prefix/path/to/resource"
    

With legacy style:

Copy
    
    
    add_resource_prefix("resource://path/to/resource", "prefix")
    "prefix+resource://path/to/resource"
    

With absolute path:

Copy
    
    
    add_resource_prefix("resource:///absolute/path", "prefix")
    "resource://prefix//absolute/path"
    

**Raises:**

  * `ValueError`: If the URI doesn’t match the expected protocol://path format



### 

​

`remove_resource_prefix` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2772)

Copy
    
    
    remove_resource_prefix(uri: str, prefix: str, prefix_format: Literal['protocol', 'path'] | None = None) -> str
    

Remove a prefix from a resource URI. **Args:**

  * `uri`: The resource URI with a prefix
  * `prefix`: The prefix to remove
  * `prefix_format`: The format of the prefix to remove

Returns: The resource URI with the prefix removed **Examples:** With new style:

Copy
    
    
    remove_resource_prefix("resource://prefix/path/to/resource", "prefix")
    "resource://path/to/resource"
    

With legacy style:

Copy
    
    
    remove_resource_prefix("prefix+resource://path/to/resource", "prefix")
    "resource://path/to/resource"
    

With absolute path:

Copy
    
    
    remove_resource_prefix("resource://prefix//absolute/path", "prefix")
    "resource:///absolute/path"
    

**Raises:**

  * `ValueError`: If the URI doesn’t match the expected protocol://path format



### 

​

`has_resource_prefix` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2839)

Copy
    
    
    has_resource_prefix(uri: str, prefix: str, prefix_format: Literal['protocol', 'path'] | None = None) -> bool
    

Check if a resource URI has a specific prefix. **Args:**

  * `uri`: The resource URI to check
  * `prefix`: The prefix to look for

**Returns:**

  * True if the URI has the specified prefix, False otherwise

**Examples:** With new style:

Copy
    
    
    has_resource_prefix("resource://prefix/path/to/resource", "prefix")
    True
    

With legacy style:

Copy
    
    
    has_resource_prefix("prefix+resource://path/to/resource", "prefix")
    True
    

With other path:

Copy
    
    
    has_resource_prefix("resource://other/path/to/resource", "prefix")
    False
    

**Raises:**

  * `ValueError`: If the URI doesn’t match the expected protocol://path format



## 

​

Classes

### 

​

`FastMCP` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L149)

**Methods:**

#### 

​

`settings` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L349)

Copy
    
    
    settings(self) -> Settings
    

#### 

​

`name` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L360)

Copy
    
    
    name(self) -> str
    

#### 

​

`instructions` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L364)

Copy
    
    
    instructions(self) -> str | None
    

#### 

​

`instructions` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L368)

Copy
    
    
    instructions(self, value: str | None) -> None
    

#### 

​

`version` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L372)

Copy
    
    
    version(self) -> str | None
    

#### 

​

`website_url` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L376)

Copy
    
    
    website_url(self) -> str | None
    

#### 

​

`icons` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L380)

Copy
    
    
    icons(self) -> list[mcp.types.Icon]
    

#### 

​

`run_async` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L407)

Copy
    
    
    run_async(self, transport: Transport | None = None, show_banner: bool = True, **transport_kwargs: Any) -> None
    

Run the FastMCP server asynchronously. **Args:**

  * `transport`: Transport protocol to use (“stdio”, “sse”, or “streamable-http”)



#### 

​

`run` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L437)

Copy
    
    
    run(self, transport: Transport | None = None, show_banner: bool = True, **transport_kwargs: Any) -> None
    

Run the FastMCP server. Note this is a synchronous function. **Args:**

  * `transport`: Transport protocol to use (“stdio”, “sse”, or “streamable-http”)



#### 

​

`add_middleware` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L481)

Copy
    
    
    add_middleware(self, middleware: Middleware) -> None
    

#### 

​

`get_tools` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L484)

Copy
    
    
    get_tools(self) -> dict[str, Tool]
    

Get all tools (unfiltered), including mounted servers, indexed by key.

#### 

​

`get_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L504)

Copy
    
    
    get_tool(self, key: str) -> Tool
    

#### 

​

`get_resources` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L510)

Copy
    
    
    get_resources(self) -> dict[str, Resource]
    

Get all resources (unfiltered), including mounted servers, indexed by key.

#### 

​

`get_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L543)

Copy
    
    
    get_resource(self, key: str) -> Resource
    

#### 

​

`get_resource_templates` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L549)

Copy
    
    
    get_resource_templates(self) -> dict[str, ResourceTemplate]
    

Get all resource templates (unfiltered), including mounted servers, indexed by key.

#### 

​

`get_resource_template` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L582)

Copy
    
    
    get_resource_template(self, key: str) -> ResourceTemplate
    

Get a registered resource template by key.

#### 

​

`get_prompts` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L589)

Copy
    
    
    get_prompts(self) -> dict[str, Prompt]
    

Get all prompts (unfiltered), including mounted servers, indexed by key.

#### 

​

`get_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L609)

Copy
    
    
    get_prompt(self, key: str) -> Prompt
    

#### 

​

`custom_route` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L615)

Copy
    
    
    custom_route(self, path: str, methods: list[str], name: str | None = None, include_in_schema: bool = True) -> Callable[[Callable[[Request], Awaitable[Response]]], Callable[[Request], Awaitable[Response]]]
    

Decorator to register a custom HTTP route on the FastMCP server. Allows adding arbitrary HTTP endpoints outside the standard MCP protocol, which can be useful for OAuth callbacks, health checks, or admin APIs. The handler function must be an async function that accepts a Starlette Request and returns a Response. **Args:**

  * `path`: URL path for the route (e.g., “/auth/callback”)
  * `methods`: List of HTTP methods to support (e.g., [“GET”, “POST”])
  * `name`: Optional name for the route (to reference this route with Starlette’s reverse URL lookup feature)
  * `include_in_schema`: Whether to include in OpenAPI schema, defaults to True



#### 

​

`add_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1313)

Copy
    
    
    add_tool(self, tool: Tool) -> Tool
    

Add a tool to the server. The tool function can optionally request a Context object by adding a parameter with the Context type annotation. See the @tool decorator for examples. **Args:**

  * `tool`: The Tool instance to register

**Returns:**

  * The tool instance that was added to the server.



#### 

​

`remove_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1338)

Copy
    
    
    remove_tool(self, name: str) -> None
    

Remove a tool from the server. **Args:**

  * `name`: The name of the tool to remove

**Raises:**

  * `NotFoundError`: If the tool is not found



#### 

​

`add_tool_transformation` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1358)

Copy
    
    
    add_tool_transformation(self, tool_name: str, transformation: ToolTransformConfig) -> None
    

Add a tool transformation.

#### 

​

`remove_tool_transformation` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1364)

Copy
    
    
    remove_tool_transformation(self, tool_name: str) -> None
    

Remove a tool transformation.

#### 

​

`tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1369)

Copy
    
    
    tool(self, name_or_fn: AnyFunction) -> FunctionTool
    

#### 

​

`tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1386)

Copy
    
    
    tool(self, name_or_fn: str | None = None) -> Callable[[AnyFunction], FunctionTool]
    

#### 

​

`tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1402)

Copy
    
    
    tool(self, name_or_fn: str | AnyFunction | None = None) -> Callable[[AnyFunction], FunctionTool] | FunctionTool
    

Decorator to register a tool. Tools can optionally request a Context object by adding a parameter with the Context type annotation. The context provides access to MCP capabilities like logging, progress reporting, and resource access. This decorator supports multiple calling patterns:

  * @server.tool (without parentheses)
  * @server.tool (with empty parentheses)
  * @server.tool(“custom_name”) (with name as first argument)
  * @server.tool(name=“custom_name”) (with name as keyword argument)
  * server.tool(function, name=“custom_name”) (direct function call)

**Args:**

  * `name_or_fn`: Either a function (when used as @tool), a string name, or None
  * `name`: Optional name for the tool (keyword-only, alternative to name_or_fn)
  * `description`: Optional description of what the tool does
  * `tags`: Optional set of tags for categorizing the tool
  * `output_schema`: Optional JSON schema for the tool’s output
  * `annotations`: Optional annotations about the tool’s behavior
  * `exclude_args`: Optional list of argument names to exclude from the tool schema. Note: `exclude_args` will be deprecated in FastMCP 2.14 in favor of dependency injection with `Depends()` for better lifecycle management.
  * `meta`: Optional meta information about the tool
  * `enabled`: Optional boolean to enable or disable the tool

**Examples:** Register a tool with a custom name:

Copy
    
    
    @server.tool
    def my_tool(x: int) -> str:
        return str(x)
    
    # Register a tool with a custom name
    @server.tool
    def my_tool(x: int) -> str:
        return str(x)
    
    @server.tool("custom_name")
    def my_tool(x: int) -> str:
        return str(x)
    
    @server.tool(name="custom_name")
    def my_tool(x: int) -> str:
        return str(x)
    
    # Direct function call
    server.tool(my_function, name="custom_name")
    

#### 

​

`add_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1539)

Copy
    
    
    add_resource(self, resource: Resource) -> Resource
    

Add a resource to the server. **Args:**

  * `resource`: A Resource instance to add

**Returns:**

  * The resource instance that was added to the server.



#### 

​

`add_template` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1561)

Copy
    
    
    add_template(self, template: ResourceTemplate) -> ResourceTemplate
    

Add a resource template to the server. **Args:**

  * `template`: A ResourceTemplate instance to add

**Returns:**

  * The template instance that was added to the server.



#### 

​

`add_resource_fn` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1583)

Copy
    
    
    add_resource_fn(self, fn: AnyFunction, uri: str, name: str | None = None, description: str | None = None, mime_type: str | None = None, tags: set[str] | None = None) -> None
    

Add a resource or template to the server from a function. If the URI contains parameters (e.g. “resource://”) or the function has parameters, it will be registered as a template resource. **Args:**

  * `fn`: The function to register as a resource
  * `uri`: The URI for the resource
  * `name`: Optional name for the resource
  * `description`: Optional description of the resource
  * `mime_type`: Optional MIME type for the resource
  * `tags`: Optional set of tags for categorizing the resource



#### 

​

`resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1621)

Copy
    
    
    resource(self, uri: str) -> Callable[[AnyFunction], Resource | ResourceTemplate]
    

Decorator to register a function as a resource. The function will be called when the resource is read to generate its content. The function can return:

  * str for text content
  * bytes for binary content
  * other types will be converted to JSON

Resources can optionally request a Context object by adding a parameter with the Context type annotation. The context provides access to MCP capabilities like logging, progress reporting, and session information. If the URI contains parameters (e.g. “resource://”) or the function has parameters, it will be registered as a template resource. **Args:**

  * `uri`: URI for the resource (e.g. “resource://my-resource” or “resource://”)
  * `name`: Optional name for the resource
  * `description`: Optional description of the resource
  * `mime_type`: Optional MIME type for the resource
  * `tags`: Optional set of tags for categorizing the resource
  * `enabled`: Optional boolean to enable or disable the resource
  * `annotations`: Optional annotations about the resource’s behavior
  * `meta`: Optional meta information about the resource

**Examples:** Register a resource with a custom name:

Copy
    
    
    @server.resource("resource://my-resource")
    def get_data() -> str:
        return "Hello, world!"
    
    @server.resource("resource://my-resource")
    async get_data() -> str:
        data = await fetch_data()
        return f"Hello, world! {data}"
    
    @server.resource("resource://{city}/weather")
    def get_weather(city: str) -> str:
        return f"Weather for {city}"
    
    @server.resource("resource://{city}/weather")
    async def get_weather_with_context(city: str, ctx: Context) -> str:
        await ctx.info(f"Fetching weather for {city}")
        return f"Weather for {city}"
    
    @server.resource("resource://{city}/weather")
    async def get_weather(city: str) -> str:
        data = await fetch_weather(city)
        return f"Weather for {city}: {data}"
    

#### 

​

`add_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1761)

Copy
    
    
    add_prompt(self, prompt: Prompt) -> Prompt
    

Add a prompt to the server. **Args:**

  * `prompt`: A Prompt instance to add

**Returns:**

  * The prompt instance that was added to the server.



#### 

​

`prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1784)

Copy
    
    
    prompt(self, name_or_fn: AnyFunction) -> FunctionPrompt
    

#### 

​

`prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1798)

Copy
    
    
    prompt(self, name_or_fn: str | None = None) -> Callable[[AnyFunction], FunctionPrompt]
    

#### 

​

`prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1811)

Copy
    
    
    prompt(self, name_or_fn: str | AnyFunction | None = None) -> Callable[[AnyFunction], FunctionPrompt] | FunctionPrompt
    

Decorator to register a prompt. Prompts can optionally request a Context object by adding a parameter with the Context type annotation. The context provides access to MCP capabilities like logging, progress reporting, and session information. This decorator supports multiple calling patterns:

  * @server.prompt (without parentheses)
  * @server.prompt() (with empty parentheses)
  * @server.prompt(“custom_name”) (with name as first argument)
  * @server.prompt(name=“custom_name”) (with name as keyword argument)
  * server.prompt(function, name=“custom_name”) (direct function call)

Args: name_or_fn: Either a function (when used as @prompt), a string name, or None name: Optional name for the prompt (keyword-only, alternative to name_or_fn) description: Optional description of what the prompt does tags: Optional set of tags for categorizing the prompt enabled: Optional boolean to enable or disable the prompt meta: Optional meta information about the prompt Examples:

Copy
    
    
    @server.prompt
    def analyze_table(table_name: str) -> list[Message]:
        schema = read_table_schema(table_name)
        return [
            {
                "role": "user",
                "content": f"Analyze this schema:
    {schema}"
            }
        ]
    
    @server.prompt()
    async def analyze_with_context(table_name: str, ctx: Context) -> list[Message]:
        await ctx.info(f"Analyzing table {table_name}")
        schema = read_table_schema(table_name)
        return [
            {
                "role": "user",
                "content": f"Analyze this schema:
    {schema}"
            }
        ]
    
    @server.prompt("custom_name")
    async def analyze_file(path: str) -> list[Message]:
        content = await read_file(path)
        return [
            {
                "role": "user",
                "content": {
                    "type": "resource",
                    "resource": {
                        "uri": f"file://{path}",
                        "text": content
                    }
                }
            }
        ]
    
    @server.prompt(name="custom_name")
    def another_prompt(data: str) -> list[Message]:
        return [{"role": "user", "content": data}]
    
    # Direct function call
    server.prompt(my_function, name="custom_name")
    

#### 

​

`run_stdio_async` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1955)

Copy
    
    
    run_stdio_async(self, show_banner: bool = True, log_level: str | None = None) -> None
    

Run the server using stdio transport. **Args:**

  * `show_banner`: Whether to display the server banner
  * `log_level`: Log level for the server



#### 

​

`run_http_async` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L1985)

Copy
    
    
    run_http_async(self, show_banner: bool = True, transport: Literal['http', 'streamable-http', 'sse'] = 'http', host: str | None = None, port: int | None = None, log_level: str | None = None, path: str | None = None, uvicorn_config: dict[str, Any] | None = None, middleware: list[ASGIMiddleware] | None = None, json_response: bool | None = None, stateless_http: bool | None = None) -> None
    

Run the server using HTTP transport. **Args:**

  * `transport`: Transport protocol to use - either “streamable-http” (default) or “sse”
  * `host`: Host address to bind to (defaults to settings.host)
  * `port`: Port to bind to (defaults to settings.port)
  * `log_level`: Log level for the server (defaults to settings.log_level)
  * `path`: Path for the endpoint (defaults to settings.streamable_http_path or settings.sse_path)
  * `uvicorn_config`: Additional configuration for the Uvicorn server
  * `middleware`: A list of middleware to apply to the app
  * `json_response`: Whether to use JSON response format (defaults to settings.json_response)
  * `stateless_http`: Whether to use stateless HTTP (defaults to settings.stateless_http)



#### 

​

`run_sse_async` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2064)

Copy
    
    
    run_sse_async(self, host: str | None = None, port: int | None = None, log_level: str | None = None, path: str | None = None, uvicorn_config: dict[str, Any] | None = None) -> None
    

Run the server using SSE transport.

#### 

​

`sse_app` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2092)

Copy
    
    
    sse_app(self, path: str | None = None, message_path: str | None = None, middleware: list[ASGIMiddleware] | None = None) -> StarletteWithLifespan
    

Create a Starlette app for the SSE server. **Args:**

  * `path`: The path to the SSE endpoint
  * `message_path`: The path to the message endpoint
  * `middleware`: A list of middleware to apply to the app



#### 

​

`streamable_http_app` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2123)

Copy
    
    
    streamable_http_app(self, path: str | None = None, middleware: list[ASGIMiddleware] | None = None) -> StarletteWithLifespan
    

Create a Starlette app for the StreamableHTTP server. **Args:**

  * `path`: The path to the StreamableHTTP endpoint
  * `middleware`: A list of middleware to apply to the app



#### 

​

`http_app` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2144)

Copy
    
    
    http_app(self, path: str | None = None, middleware: list[ASGIMiddleware] | None = None, json_response: bool | None = None, stateless_http: bool | None = None, transport: Literal['http', 'streamable-http', 'sse'] = 'http') -> StarletteWithLifespan
    

Create a Starlette app using the specified HTTP transport. **Args:**

  * `path`: The path for the HTTP endpoint
  * `middleware`: A list of middleware to apply to the app
  * `transport`: Transport protocol to use - either “streamable-http” (default) or “sse”

**Returns:**

  * A Starlette application configured with the specified transport



#### 

​

`run_streamable_http_async` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2193)

Copy
    
    
    run_streamable_http_async(self, host: str | None = None, port: int | None = None, log_level: str | None = None, path: str | None = None, uvicorn_config: dict[str, Any] | None = None) -> None
    

#### 

​

`mount` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2218)

Copy
    
    
    mount(self, server: FastMCP[LifespanResultT], prefix: str | None = None, as_proxy: bool | None = None) -> None
    

Mount another FastMCP server on this server with an optional prefix. Unlike importing (with import_server), mounting establishes a dynamic connection between servers. When a client interacts with a mounted server’s objects through the parent server, requests are forwarded to the mounted server in real-time. This means changes to the mounted server are immediately reflected when accessed through the parent. When a server is mounted with a prefix:

  * Tools from the mounted server are accessible with prefixed names. Example: If server has a tool named “get_weather”, it will be available as “prefix_get_weather”.
  * Resources are accessible with prefixed URIs. Example: If server has a resource with URI “weather://forecast”, it will be available as “weather://prefix/forecast”.
  * Templates are accessible with prefixed URI templates. Example: If server has a template with URI “weather://location/”, it will be available as “weather://prefix/location/”.
  * Prompts are accessible with prefixed names. Example: If server has a prompt named “weather_prompt”, it will be available as “prefix_weather_prompt”.

When a server is mounted without a prefix (prefix=None), its tools, resources, templates, and prompts are accessible with their original names. Multiple servers can be mounted without prefixes, and they will be tried in order until a match is found. There are two modes for mounting servers:

  1. Direct mounting (default when server has no custom lifespan): The parent server directly accesses the mounted server’s objects in-memory for better performance. In this mode, no client lifecycle events occur on the mounted server, including lifespan execution.
  2. Proxy mounting (default when server has a custom lifespan): The parent server treats the mounted server as a separate entity and communicates with it via a Client transport. This preserves all client-facing behaviors, including lifespan execution, but with slightly higher overhead.

**Args:**

  * `server`: The FastMCP server to mount.
  * `prefix`: Optional prefix to use for the mounted server’s objects. If None, the server’s objects are accessible with their original names.
  * `as_proxy`: Whether to treat the mounted server as a proxy. If None (default), automatically determined based on whether the server has a custom lifespan (True if it has a custom lifespan, False otherwise).
  * `tool_separator`: Deprecated. Separator character for tool names.
  * `resource_separator`: Deprecated. Separator character for resource URIs.
  * `prompt_separator`: Deprecated. Separator character for prompt names.



#### 

​

`import_server` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2337)

Copy
    
    
    import_server(self, server: FastMCP[LifespanResultT], prefix: str | None = None, tool_separator: str | None = None, resource_separator: str | None = None, prompt_separator: str | None = None) -> None
    

Import the MCP objects from another FastMCP server into this one, optionally with a given prefix. Note that when a server is _imported_ , its objects are immediately registered to the importing server. This is a one-time operation and future changes to the imported server will not be reflected in the importing server. Server-level configurations and lifespans are not imported. When a server is imported with a prefix:

  * The tools are imported with prefixed names Example: If server has a tool named “get_weather”, it will be available as “prefix_get_weather”
  * The resources are imported with prefixed URIs using the new format Example: If server has a resource with URI “weather://forecast”, it will be available as “weather://prefix/forecast”
  * The templates are imported with prefixed URI templates using the new format Example: If server has a template with URI “weather://location/”, it will be available as “weather://prefix/location/”
  * The prompts are imported with prefixed names Example: If server has a prompt named “weather_prompt”, it will be available as “prefix_weather_prompt”

When a server is imported without a prefix (prefix=None), its tools, resources, templates, and prompts are imported with their original names. **Args:**

  * `server`: The FastMCP server to import
  * `prefix`: Optional prefix to use for the imported server’s objects. If None, objects are imported with their original names.
  * `tool_separator`: Deprecated. Separator for tool names.
  * `resource_separator`: Deprecated and ignored. Prefix is now applied using the protocol://prefix/path format
  * `prompt_separator`: Deprecated. Separator for prompt names.



#### 

​

`from_openapi` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2475)

Copy
    
    
    from_openapi(cls, openapi_spec: dict[str, Any], client: httpx.AsyncClient, route_maps: list[RouteMap] | list[RouteMapNew] | None = None, route_map_fn: OpenAPIRouteMapFn | OpenAPIRouteMapFnNew | None = None, mcp_component_fn: OpenAPIComponentFn | OpenAPIComponentFnNew | None = None, mcp_names: dict[str, str] | None = None, tags: set[str] | None = None, **settings: Any) -> FastMCPOpenAPI | FastMCPOpenAPINew
    

Create a FastMCP server from an OpenAPI specification.

#### 

​

`from_fastapi` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2524)

Copy
    
    
    from_fastapi(cls, app: Any, name: str | None = None, route_maps: list[RouteMap] | list[RouteMapNew] | None = None, route_map_fn: OpenAPIRouteMapFn | OpenAPIRouteMapFnNew | None = None, mcp_component_fn: OpenAPIComponentFn | OpenAPIComponentFnNew | None = None, mcp_names: dict[str, str] | None = None, httpx_client_kwargs: dict[str, Any] | None = None, tags: set[str] | None = None, **settings: Any) -> FastMCPOpenAPI | FastMCPOpenAPINew
    

Create a FastMCP server from a FastAPI application.

#### 

​

`as_proxy` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2587)

Copy
    
    
    as_proxy(cls, backend: Client[ClientTransportT] | ClientTransport | FastMCP[Any] | FastMCP1Server | AnyUrl | Path | MCPConfig | dict[str, Any] | str, **settings: Any) -> FastMCPProxy
    

Create a FastMCP proxy server for the given backend. The `backend` argument can be either an existing `fastmcp.client.Client` instance or any value accepted as the `transport` argument of `fastmcp.client.Client`. This mirrors the convenience of the `fastmcp.client.Client` constructor.

#### 

​

`from_client` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2647)

Copy
    
    
    from_client(cls, client: Client[ClientTransportT], **settings: Any) -> FastMCPProxy
    

Create a FastMCP proxy server from a FastMCP client.

#### 

​

`generate_name` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2696)

Copy
    
    
    generate_name(cls, name: str | None = None) -> str
    

### 

​

`MountedServer` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/server.py#L2706)

[proxyPrevious](/python-sdk/fastmcp-server-proxy)[__init__Next](/python-sdk/fastmcp-tools-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-sampling

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

sampling

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.sampling
  * Functions
  * create_sampling_callback 



fastmcp.client

# sampling

Copy page

Copy page

# 

​

`fastmcp.client.sampling`

## 

​

Functions

### 

​

`create_sampling_callback` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/sampling.py#L31)

Copy
    
    
    create_sampling_callback(sampling_handler: ClientSamplingHandler[LifespanContextT]) -> SamplingFnT
    

[rootsPrevious](/python-sdk/fastmcp-client-roots)[transportsNext](/python-sdk/fastmcp-client-transports)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-roots

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

roots

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.roots
  * Functions
  * convert_roots_list 
  * create_roots_callback 



fastmcp.client

# roots

Copy page

Copy page

# 

​

`fastmcp.client.roots`

## 

​

Functions

### 

​

`convert_roots_list` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/roots.py#L19)

Copy
    
    
    convert_roots_list(roots: RootsList) -> list[mcp.types.Root]
    

### 

​

`create_roots_callback` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/roots.py#L33)

Copy
    
    
    create_roots_callback(handler: RootsList | RootsHandler) -> ListRootsFnT
    

[progressPrevious](/python-sdk/fastmcp-client-progress)[samplingNext](/python-sdk/fastmcp-client-sampling)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-dependencies

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

dependencies

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server.dependencies
  * Functions
  * get_context 
  * get_http_request 
  * get_http_headers 
  * get_access_token 



fastmcp.server

# dependencies

Copy page

Copy page

# 

​

`fastmcp.server.dependencies`

## 

​

Functions

### 

​

`get_context` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/dependencies.py#L33)

Copy
    
    
    get_context() -> Context
    

### 

​

`get_http_request` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/dependencies.py#L45)

Copy
    
    
    get_http_request() -> Request
    

### 

​

`get_http_headers` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/dependencies.py#L61)

Copy
    
    
    get_http_headers(include_all: bool = False) -> dict[str, str]
    

Extract headers from the current HTTP request if available. Never raises an exception, even if there is no active HTTP request (in which case an empty dict is returned). By default, strips problematic headers like `content-length` that cause issues if forwarded to downstream clients. If `include_all` is True, all headers are returned.

### 

​

`get_access_token` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/dependencies.py#L110)

Copy
    
    
    get_access_token() -> AccessToken | None
    

Get the FastMCP access token from the current context. **Returns:**

  * The access token if an authenticated user is available, None otherwise.



[contextPrevious](/python-sdk/fastmcp-server-context)[elicitationNext](/python-sdk/fastmcp-server-elicitation)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-logging

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

logging

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.logging
  * Functions
  * get_logger 
  * configure_logging 
  * temporary_log_level 



fastmcp.utilities

# logging

Copy page

Copy page

# 

​

`fastmcp.utilities.logging`

Logging utilities for FastMCP.

## 

​

Functions

### 

​

`get_logger` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/logging.py#L14)

Copy
    
    
    get_logger(name: str) -> logging.Logger
    

Get a logger nested under FastMCP namespace. **Args:**

  * `name`: the name of the logger, which will be prefixed with ‘FastMCP.’

**Returns:**

  * a configured logger instance



### 

​

`configure_logging` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/logging.py#L29)

Copy
    
    
    configure_logging(level: Literal['DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL'] | int = 'INFO', logger: logging.Logger | None = None, enable_rich_tracebacks: bool | None = None, **rich_kwargs: Any) -> None
    

Configure logging for FastMCP. **Args:**

  * `logger`: the logger to configure
  * `level`: the log level to use
  * `rich_kwargs`: the parameters to use for creating RichHandler



### 

​

`temporary_log_level` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/logging.py#L103)

Copy
    
    
    temporary_log_level(level: str | None, logger: logging.Logger | None = None, enable_rich_tracebacks: bool | None = None, **rich_kwargs: Any)
    

Context manager to temporarily set log level and restore it afterwards. **Args:**

  * `level`: The temporary log level to set (e.g., “DEBUG”, “INFO”)
  * `logger`: Optional logger to configure (defaults to FastMCP logger)
  * `enable_rich_tracebacks`: Whether to enable rich tracebacks
  * `**rich_kwargs`: Additional parameters for RichHandler



[json_schema_typePrevious](/python-sdk/fastmcp-utilities-json_schema_type)[mcp_configNext](/python-sdk/fastmcp-utilities-mcp_config)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-resources-__init__

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.resources

__init__

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.resources



fastmcp.resources

# __init__

Copy page

Copy page

# 

​

`fastmcp.resources`

_This module is empty or contains only private/internal implementations._

[ prompt_managerPrevious](/python-sdk/fastmcp-prompts-prompt_manager)[resourceNext](/python-sdk/fastmcp-resources-resource)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-client

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

client

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.client
  * Classes
  * ClientSessionState 
  * Client 
  * session 
  * initialize_result 
  * set_roots 
  * set_sampling_callback 
  * set_elicitation_callback 
  * is_connected 
  * new 
  * close 
  * initialize 
  * ping 
  * cancel 
  * progress 
  * set_logging_level 
  * send_roots_list_changed 
  * list_resources_mcp 
  * list_resources 
  * list_resource_templates_mcp 
  * list_resource_templates 
  * read_resource_mcp 
  * read_resource 
  * list_prompts_mcp 
  * list_prompts 
  * get_prompt_mcp 
  * get_prompt 
  * complete_mcp 
  * complete 
  * list_tools_mcp 
  * list_tools 
  * call_tool_mcp 
  * call_tool 
  * Returns:
  * generate_name 
  * CallToolResult 



fastmcp.client

# client

Copy page

Copy page

# 

​

`fastmcp.client.client`

## 

​

Classes

### 

​

`ClientSessionState` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L91)

Holds all session-related state for a Client instance. This allows clean separation of configuration (which is copied) from session state (which should be fresh for each new client instance).

### 

​

`Client` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L107)

MCP client that delegates connection management to a Transport instance. The Client class is responsible for MCP protocol logic, while the Transport handles connection establishment and management. Client provides methods for working with resources, prompts, tools and other MCP capabilities. This client supports reentrant context managers (multiple concurrent `async with client:` blocks) using reference counting and background session management. This allows efficient session reuse in any scenario with nested or concurrent client usage. MCP SDK 1.10 introduced automatic list_tools() calls during call_tool() execution. This created a race condition where events could be reset while other tasks were waiting on them, causing deadlocks. The issue was exposed in proxy scenarios but affects any reentrant usage. The solution uses reference counting to track active context managers, a background task to manage the session lifecycle, events to coordinate between tasks, and ensures all session state changes happen within a lock. Events are only created when needed, never reset outside locks. This design prevents race conditions where tasks wait on events that get replaced by other tasks, ensuring reliable coordination in concurrent scenarios. **Args:**

  * `transport`: Connection source specification, which can be:
    * ClientTransport: Direct transport instance
    * FastMCP: In-process FastMCP server
    * AnyUrl or str: URL to connect to
    * Path: File path for local socket
    * MCPConfig: MCP server configuration
    * dict: Transport configuration
  * `roots`: Optional RootsList or RootsHandler for filesystem access
  * `sampling_handler`: Optional handler for sampling requests
  * `log_handler`: Optional handler for log messages
  * `message_handler`: Optional handler for protocol messages
  * `progress_handler`: Optional handler for progress notifications
  * `timeout`: Optional timeout for requests (seconds or timedelta)
  * `init_timeout`: Optional timeout for initial connection (seconds or timedelta). Set to 0 to disable. If None, uses the value in the FastMCP global settings.

**Examples:**

Copy
    
    
    # Connect to FastMCP server
    client = Client("http://localhost:8080")
    
    async with client:
        # List available resources
        resources = await client.list_resources()
    
        # Call a tool
        result = await client.call_tool("my_tool", {"param": "value"})
    

**Methods:**

#### 

​

`session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L291)

Copy
    
    
    session(self) -> ClientSession
    

Get the current active session. Raises RuntimeError if not connected.

#### 

​

`initialize_result` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L301)

Copy
    
    
    initialize_result(self) -> mcp.types.InitializeResult | None
    

Get the result of the initialization request.

#### 

​

`set_roots` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L305)

Copy
    
    
    set_roots(self, roots: RootsList | RootsHandler) -> None
    

Set the roots for the client. This does not automatically call `send_roots_list_changed`.

#### 

​

`set_sampling_callback` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L309)

Copy
    
    
    set_sampling_callback(self, sampling_callback: ClientSamplingHandler) -> None
    

Set the sampling callback for the client.

#### 

​

`set_elicitation_callback` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L315)

Copy
    
    
    set_elicitation_callback(self, elicitation_callback: ElicitationHandler) -> None
    

Set the elicitation callback for the client.

#### 

​

`is_connected` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L323)

Copy
    
    
    is_connected(self) -> bool
    

Check if the client is currently connected.

#### 

​

`new` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L327)

Copy
    
    
    new(self) -> Client[ClientTransportT]
    

Create a new client instance with the same configuration but fresh session state. This creates a new client with the same transport, handlers, and configuration, but with no active session. Useful for creating independent sessions that don’t share state with the original client. **Returns:**

  * A new Client instance with the same configuration but disconnected state.



#### 

​

`close` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L490)

Copy
    
    
    close(self)
    

#### 

​

`initialize` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L496)

Copy
    
    
    initialize(self, timeout: datetime.timedelta | float | int | None = None) -> mcp.types.InitializeResult
    

Send an initialize request to the server. This method performs the MCP initialization handshake with the server, exchanging capabilities and server information. It is idempotent - calling it multiple times returns the cached result from the first call. The initialization happens automatically when entering the client context manager unless `auto_initialize=False` was set during client construction. Manual calls to this method are only needed when auto-initialization is disabled. **Args:**

  * `timeout`: Optional timeout for the initialization request (seconds or timedelta). If None, uses the client’s init_timeout setting.

**Returns:**

  * The server’s initialization response containing server info, capabilities, protocol version, and optional instructions.

**Raises:**

  * `RuntimeError`: If the client is not connected or initialization times out.



#### 

​

`ping` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L545)

Copy
    
    
    ping(self) -> bool
    

Send a ping request.

#### 

​

`cancel` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L550)

Copy
    
    
    cancel(self, request_id: str | int, reason: str | None = None) -> None
    

Send a cancellation notification for an in-progress request.

#### 

​

`progress` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L567)

Copy
    
    
    progress(self, progress_token: str | int, progress: float, total: float | None = None, message: str | None = None) -> None
    

Send a progress notification.

#### 

​

`set_logging_level` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L579)

Copy
    
    
    set_logging_level(self, level: mcp.types.LoggingLevel) -> None
    

Send a logging/setLevel request.

#### 

​

`send_roots_list_changed` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L583)

Copy
    
    
    send_roots_list_changed(self) -> None
    

Send a roots/list_changed notification.

#### 

​

`list_resources_mcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L589)

Copy
    
    
    list_resources_mcp(self) -> mcp.types.ListResourcesResult
    

Send a resources/list request and return the complete MCP protocol result. **Returns:**

  * mcp.types.ListResourcesResult: The complete response object from the protocol, containing the list of resources and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`list_resources` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L604)

Copy
    
    
    list_resources(self) -> list[mcp.types.Resource]
    

Retrieve a list of resources available on the server. **Returns:**

  * list[mcp.types.Resource]: A list of Resource objects.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`list_resource_templates_mcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L616)

Copy
    
    
    list_resource_templates_mcp(self) -> mcp.types.ListResourceTemplatesResult
    

Send a resources/listResourceTemplates request and return the complete MCP protocol result. **Returns:**

  * mcp.types.ListResourceTemplatesResult: The complete response object from the protocol, containing the list of resource templates and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`list_resource_templates` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L633)

Copy
    
    
    list_resource_templates(self) -> list[mcp.types.ResourceTemplate]
    

Retrieve a list of resource templates available on the server. **Returns:**

  * list[mcp.types.ResourceTemplate]: A list of ResourceTemplate objects.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`read_resource_mcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L647)

Copy
    
    
    read_resource_mcp(self, uri: AnyUrl | str) -> mcp.types.ReadResourceResult
    

Send a resources/read request and return the complete MCP protocol result. **Args:**

  * `uri`: The URI of the resource to read. Can be a string or an AnyUrl object.

**Returns:**

  * mcp.types.ReadResourceResult: The complete response object from the protocol, containing the resource contents and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`read_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L669)

Copy
    
    
    read_resource(self, uri: AnyUrl | str) -> list[mcp.types.TextResourceContents | mcp.types.BlobResourceContents]
    

Read the contents of a resource or resolved template. **Args:**

  * `uri`: The URI of the resource to read. Can be a string or an AnyUrl object.

**Returns:**

  * list[mcp.types.TextResourceContents | mcp.types.BlobResourceContents]: A list of content objects, typically containing either text or binary data.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`list_prompts_mcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L708)

Copy
    
    
    list_prompts_mcp(self) -> mcp.types.ListPromptsResult
    

Send a prompts/list request and return the complete MCP protocol result. **Returns:**

  * mcp.types.ListPromptsResult: The complete response object from the protocol, containing the list of prompts and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`list_prompts` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L723)

Copy
    
    
    list_prompts(self) -> list[mcp.types.Prompt]
    

Retrieve a list of prompts available on the server. **Returns:**

  * list[mcp.types.Prompt]: A list of Prompt objects.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`get_prompt_mcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L736)

Copy
    
    
    get_prompt_mcp(self, name: str, arguments: dict[str, Any] | None = None) -> mcp.types.GetPromptResult
    

Send a prompts/get request and return the complete MCP protocol result. **Args:**

  * `name`: The name of the prompt to retrieve.
  * `arguments`: Arguments to pass to the prompt. Defaults to None.

**Returns:**

  * mcp.types.GetPromptResult: The complete response object from the protocol, containing the prompt messages and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`get_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L772)

Copy
    
    
    get_prompt(self, name: str, arguments: dict[str, Any] | None = None) -> mcp.types.GetPromptResult
    

Retrieve a rendered prompt message list from the server. **Args:**

  * `name`: The name of the prompt to retrieve.
  * `arguments`: Arguments to pass to the prompt. Defaults to None.

**Returns:**

  * mcp.types.GetPromptResult: The complete response object from the protocol, containing the prompt messages and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`complete_mcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L793)

Copy
    
    
    complete_mcp(self, ref: mcp.types.ResourceTemplateReference | mcp.types.PromptReference, argument: dict[str, str], context_arguments: dict[str, Any] | None = None) -> mcp.types.CompleteResult
    

Send a completion request and return the complete MCP protocol result. **Args:**

  * `ref`: The reference to complete.
  * `argument`: Arguments to pass to the completion request.
  * `context_arguments`: Optional context arguments to include with the completion request. Defaults to None.

**Returns:**

  * mcp.types.CompleteResult: The complete response object from the protocol, containing the completion and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`complete` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L821)

Copy
    
    
    complete(self, ref: mcp.types.ResourceTemplateReference | mcp.types.PromptReference, argument: dict[str, str], context_arguments: dict[str, Any] | None = None) -> mcp.types.Completion
    

Send a completion request to the server. **Args:**

  * `ref`: The reference to complete.
  * `argument`: Arguments to pass to the completion request.
  * `context_arguments`: Optional context arguments to include with the completion request. Defaults to None.

**Returns:**

  * mcp.types.Completion: The completion object.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`list_tools_mcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L848)

Copy
    
    
    list_tools_mcp(self) -> mcp.types.ListToolsResult
    

Send a tools/list request and return the complete MCP protocol result. **Returns:**

  * mcp.types.ListToolsResult: The complete response object from the protocol, containing the list of tools and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`list_tools` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L863)

Copy
    
    
    list_tools(self) -> list[mcp.types.Tool]
    

Retrieve a list of tools available on the server. **Returns:**

  * list[mcp.types.Tool]: A list of Tool objects.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`call_tool_mcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L877)

Copy
    
    
    call_tool_mcp(self, name: str, arguments: dict[str, Any], progress_handler: ProgressHandler | None = None, timeout: datetime.timedelta | float | int | None = None, meta: dict[str, Any] | None = None) -> mcp.types.CallToolResult
    

Send a tools/call request and return the complete MCP protocol result. This method returns the raw CallToolResult object, which includes an isError flag and other metadata. It does not raise an exception if the tool call results in an error. **Args:**

  * `name`: The name of the tool to call.
  * `arguments`: Arguments to pass to the tool.
  * `timeout`: The timeout for the tool call. Defaults to None.
  * `progress_handler`: The progress handler to use for the tool call. Defaults to None.
  * `meta`: Additional metadata to include with the request. This is useful for passing contextual information (like user IDs, trace IDs, or preferences) that shouldn’t be tool arguments but may influence server-side processing. The server can access this via `context.request_context.meta`. Defaults to None.

**Returns:**

  * mcp.types.CallToolResult: The complete response object from the protocol, containing the tool result and any additional metadata.

**Raises:**

  * `RuntimeError`: If called while the client is not connected.



#### 

​

`call_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L922)

Copy
    
    
    call_tool(self, name: str, arguments: dict[str, Any] | None = None, timeout: datetime.timedelta | float | int | None = None, progress_handler: ProgressHandler | None = None, raise_on_error: bool = True, meta: dict[str, Any] | None = None) -> CallToolResult
    

Call a tool on the server. Unlike call_tool_mcp, this method raises a ToolError if the tool call results in an error. **Args:**

  * `name`: The name of the tool to call.
  * `arguments`: Arguments to pass to the tool. Defaults to None.
  * `timeout`: The timeout for the tool call. Defaults to None.
  * `progress_handler`: The progress handler to use for the tool call. Defaults to None.
  * `raise_on_error`: Whether to raise a ToolError if the tool call results in an error. Defaults to True.
  * `meta`: Additional metadata to include with the request. This is useful for passing contextual information (like user IDs, trace IDs, or preferences) that shouldn’t be tool arguments but may influence server-side processing. The server can access this via `context.request_context.meta`. Defaults to None.



## 

​

**Returns:**

The content returned by the tool. If the tool returns structured outputs, they are returned as a dataclass (if an output schema is available) or a dictionary; otherwise, a list of content blocks is returned. Note: to receive both structured and unstructured outputs, use call_tool_mcp instead and access the raw result object. **Raises:**

  * `ToolError`: If the tool call results in an error.
  * `RuntimeError`: If called while the client is not connected.



#### 

​

`generate_name` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L1001)

Copy
    
    
    generate_name(cls, name: str | None = None) -> str
    

### 

​

`CallToolResult` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/client.py#L1010)

[oauthPrevious](/python-sdk/fastmcp-client-auth-oauth)[elicitationNext](/python-sdk/fastmcp-client-elicitation)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-exceptions

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

exceptions

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.exceptions
  * Classes
  * FastMCPError 
  * ValidationError 
  * ResourceError 
  * ToolError 
  * PromptError 
  * InvalidSignature 
  * ClientError 
  * NotFoundError 
  * DisabledError 



# exceptions

Copy page

Copy page

# 

​

`fastmcp.exceptions`

Custom exceptions for FastMCP.

## 

​

Classes

### 

​

`FastMCPError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L6)

Base error for FastMCP.

### 

​

`ValidationError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L10)

Error in validating parameters or return values.

### 

​

`ResourceError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L14)

Error in resource operations.

### 

​

`ToolError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L18)

Error in tool operations.

### 

​

`PromptError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L22)

Error in prompt operations.

### 

​

`InvalidSignature` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L26)

Invalid signature for use with FastMCP.

### 

​

`ClientError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L30)

Error in client operations.

### 

​

`NotFoundError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L34)

Object not found.

### 

​

`DisabledError` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/exceptions.py#L38)

Object is disabled.

[mcp_configNext](/python-sdk/fastmcp-mcp_config)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-messages

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

messages

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.messages
  * Classes
  * MessageHandler 
  * dispatch 
  * on_message 
  * on_request 
  * on_ping 
  * on_list_roots 
  * on_create_message 
  * on_notification 
  * on_exception 
  * on_progress 
  * on_logging_message 
  * on_tool_list_changed 
  * on_resource_list_changed 
  * on_prompt_list_changed 
  * on_resource_updated 
  * on_cancelled 



fastmcp.client

# messages

Copy page

Copy page

# 

​

`fastmcp.client.messages`

## 

​

Classes

### 

​

`MessageHandler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L16)

This class is used to handle MCP messages sent to the client. It is used to handle all messages, requests, notifications, and exceptions. Users can override any of the hooks **Methods:**

#### 

​

`dispatch` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L30)

Copy
    
    
    dispatch(self, message: Message) -> None
    

#### 

​

`on_message` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L74)

Copy
    
    
    on_message(self, message: Message) -> None
    

#### 

​

`on_request` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L77)

Copy
    
    
    on_request(self, message: RequestResponder[mcp.types.ServerRequest, mcp.types.ClientResult]) -> None
    

#### 

​

`on_ping` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L82)

Copy
    
    
    on_ping(self, message: mcp.types.PingRequest) -> None
    

#### 

​

`on_list_roots` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L85)

Copy
    
    
    on_list_roots(self, message: mcp.types.ListRootsRequest) -> None
    

#### 

​

`on_create_message` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L88)

Copy
    
    
    on_create_message(self, message: mcp.types.CreateMessageRequest) -> None
    

#### 

​

`on_notification` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L91)

Copy
    
    
    on_notification(self, message: mcp.types.ServerNotification) -> None
    

#### 

​

`on_exception` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L94)

Copy
    
    
    on_exception(self, message: Exception) -> None
    

#### 

​

`on_progress` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L97)

Copy
    
    
    on_progress(self, message: mcp.types.ProgressNotification) -> None
    

#### 

​

`on_logging_message` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L100)

Copy
    
    
    on_logging_message(self, message: mcp.types.LoggingMessageNotification) -> None
    

#### 

​

`on_tool_list_changed` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L105)

Copy
    
    
    on_tool_list_changed(self, message: mcp.types.ToolListChangedNotification) -> None
    

#### 

​

`on_resource_list_changed` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L110)

Copy
    
    
    on_resource_list_changed(self, message: mcp.types.ResourceListChangedNotification) -> None
    

#### 

​

`on_prompt_list_changed` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L115)

Copy
    
    
    on_prompt_list_changed(self, message: mcp.types.PromptListChangedNotification) -> None
    

#### 

​

`on_resource_updated` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L120)

Copy
    
    
    on_resource_updated(self, message: mcp.types.ResourceUpdatedNotification) -> None
    

#### 

​

`on_cancelled` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/messages.py#L125)

Copy
    
    
    on_cancelled(self, message: mcp.types.CancelledNotification) -> None
    

[loggingPrevious](/python-sdk/fastmcp-client-logging)[oauth_callbackNext](/python-sdk/fastmcp-client-oauth_callback)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-resources-resource_manager

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.resources

resource_manager

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.resources.resource_manager
  * Classes
  * ResourceManager 
  * get_resources 
  * get_resource_templates 
  * add_resource_or_template_from_fn 
  * add_resource_from_fn 
  * add_resource 
  * add_template_from_fn 
  * add_template 
  * has_resource 
  * get_resource 
  * read_resource 



fastmcp.resources

# resource_manager

Copy page

Copy page

# 

​

`fastmcp.resources.resource_manager`

Resource manager functionality.

## 

​

Classes

### 

​

`ResourceManager` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L25)

Manages FastMCP resources. **Methods:**

#### 

​

`get_resources` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L56)

Copy
    
    
    get_resources(self) -> dict[str, Resource]
    

Get all registered resources, keyed by URI.

#### 

​

`get_resource_templates` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L60)

Copy
    
    
    get_resource_templates(self) -> dict[str, ResourceTemplate]
    

Get all registered templates, keyed by URI template.

#### 

​

`add_resource_or_template_from_fn` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L64)

Copy
    
    
    add_resource_or_template_from_fn(self, fn: Callable[..., Any], uri: str, name: str | None = None, description: str | None = None, mime_type: str | None = None, tags: set[str] | None = None) -> Resource | ResourceTemplate
    

Add a resource or template to the manager from a function. **Args:**

  * `fn`: The function to register as a resource or template
  * `uri`: The URI for the resource or template
  * `name`: Optional name for the resource or template
  * `description`: Optional description of the resource or template
  * `mime_type`: Optional MIME type for the resource or template
  * `tags`: Optional set of tags for categorizing the resource or template

**Returns:**

  * The added resource or template. If a resource or template with the same URI already exists,
  * returns the existing resource or template.



#### 

​

`add_resource_from_fn` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L112)

Copy
    
    
    add_resource_from_fn(self, fn: Callable[..., Any], uri: str, name: str | None = None, description: str | None = None, mime_type: str | None = None, tags: set[str] | None = None) -> Resource
    

Add a resource to the manager from a function. **Args:**

  * `fn`: The function to register as a resource
  * `uri`: The URI for the resource
  * `name`: Optional name for the resource
  * `description`: Optional description of the resource
  * `mime_type`: Optional MIME type for the resource
  * `tags`: Optional set of tags for categorizing the resource

**Returns:**

  * The added resource. If a resource with the same URI already exists,
  * returns the existing resource.



#### 

​

`add_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L152)

Copy
    
    
    add_resource(self, resource: Resource) -> Resource
    

Add a resource to the manager. **Args:**

  * `resource`: A Resource instance to add. The resource’s .key attribute will be used as the storage key. To overwrite it, call Resource.model_copy(key=new_key) before calling this method.



#### 

​

`add_template_from_fn` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L174)

Copy
    
    
    add_template_from_fn(self, fn: Callable[..., Any], uri_template: str, name: str | None = None, description: str | None = None, mime_type: str | None = None, tags: set[str] | None = None) -> ResourceTemplate
    

Create a template from a function.

#### 

​

`add_template` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L201)

Copy
    
    
    add_template(self, template: ResourceTemplate) -> ResourceTemplate
    

Add a template to the manager. **Args:**

  * `template`: A ResourceTemplate instance to add. The template’s .key attribute will be used as the storage key. To overwrite it, call ResourceTemplate.model_copy(key=new_key) before calling this method.

**Returns:**

  * The added template. If a template with the same URI already exists,
  * returns the existing template.



#### 

​

`has_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L227)

Copy
    
    
    has_resource(self, uri: AnyUrl | str) -> bool
    

Check if a resource exists.

#### 

​

`get_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L244)

Copy
    
    
    get_resource(self, uri: AnyUrl | str) -> Resource
    

Get resource by URI, checking concrete resources first, then templates. **Args:**

  * `uri`: The URI of the resource to get

**Raises:**

  * `NotFoundError`: If no resource or template matching the URI is found.



#### 

​

`read_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource_manager.py#L289)

Copy
    
    
    read_resource(self, uri: AnyUrl | str) -> str | bytes
    

Internal API for servers: Finds and reads a resource, respecting the filtered protocol path.

[resourcePrevious](/python-sdk/fastmcp-resources-resource)[templateNext](/python-sdk/fastmcp-resources-template)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-logging

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

logging

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.logging
  * Functions
  * default_log_handler 
  * create_log_callback 



fastmcp.client

# logging

Copy page

Copy page

# 

​

`fastmcp.client.logging`

## 

​

Functions

### 

​

`default_log_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/logging.py#L17)

Copy
    
    
    default_log_handler(message: LogMessage) -> None
    

Default handler that properly routes server log messages to appropriate log levels.

### 

​

`create_log_callback` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/logging.py#L47)

Copy
    
    
    create_log_callback(handler: LogHandler | None = None) -> LoggingFnT
    

[elicitationPrevious](/python-sdk/fastmcp-client-elicitation)[messagesNext](/python-sdk/fastmcp-client-messages)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-settings

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

settings

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.settings
  * Classes
  * ExtendedEnvSettingsSource 
  * get_field_value 
  * ExtendedSettingsConfigDict 
  * ExperimentalSettings 
  * Settings 
  * get_setting 
  * set_setting 
  * settings_customise_sources 
  * settings 
  * normalize_log_level 
  * server_auth_class 



# settings

Copy page

Copy page

# 

​

`fastmcp.settings`

## 

​

Classes

### 

​

`ExtendedEnvSettingsSource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L36)

A special EnvSettingsSource that allows for multiple env var prefixes to be used. Raises a deprecation warning if the old `FASTMCP_SERVER_` prefix is used. **Methods:**

#### 

​

`get_field_value` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L43)

Copy
    
    
    get_field_value(self, field: FieldInfo, field_name: str) -> tuple[Any, str, bool]
    

### 

​

`ExtendedSettingsConfigDict` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L63)

### 

​

`ExperimentalSettings` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L67)

### 

​

`Settings` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L86)

FastMCP settings. **Methods:**

#### 

​

`get_setting` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L98)

Copy
    
    
    get_setting(self, attr: str) -> Any
    

Get a setting. If the setting contains one or more `__`, it will be treated as a nested setting.

#### 

​

`set_setting` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L111)

Copy
    
    
    set_setting(self, attr: str, value: Any) -> None
    

Set a setting. If the setting contains one or more `__`, it will be treated as a nested setting.

#### 

​

`settings_customise_sources` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L125)

Copy
    
    
    settings_customise_sources(cls, settings_cls: type[BaseSettings], init_settings: PydanticBaseSettingsSource, env_settings: PydanticBaseSettingsSource, dotenv_settings: PydanticBaseSettingsSource, file_secret_settings: PydanticBaseSettingsSource) -> tuple[PydanticBaseSettingsSource, ...]
    

#### 

​

`settings` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L143)

Copy
    
    
    settings(self) -> Self
    

This property is for backwards compatibility with FastMCP < 2.8.0, which accessed fastmcp.settings.settings

#### 

​

`normalize_log_level` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L163)

Copy
    
    
    normalize_log_level(cls, v)
    

#### 

​

`server_auth_class` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/settings.py#L378)

Copy
    
    
    server_auth_class(self) -> AuthProvider | None
    

[mcp_configPrevious](/python-sdk/fastmcp-mcp_config)[__init__Next](/python-sdk/fastmcp-cli-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-cli-__init__

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.cli

__init__

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.cli



fastmcp.cli

# __init__

Copy page

Copy page

# 

​

`fastmcp.cli`

FastMCP CLI package.

[settingsPrevious](/python-sdk/fastmcp-settings)[cliNext](/python-sdk/fastmcp-cli-cli)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-elicitation

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

elicitation

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.elicitation
  * Functions
  * create_elicitation_callback 
  * Classes
  * ElicitResult 



fastmcp.client

# elicitation

Copy page

Copy page

# 

​

`fastmcp.client.elicitation`

## 

​

Functions

### 

​

`create_elicitation_callback` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/elicitation.py#L37)

Copy
    
    
    create_elicitation_callback(elicitation_handler: ElicitationHandler) -> ElicitationFnT
    

## 

​

Classes

### 

​

`ElicitResult` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/elicitation.py#L22)

[clientPrevious](/python-sdk/fastmcp-client-client)[loggingNext](/python-sdk/fastmcp-client-logging)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-resources-types

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.resources

types

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.resources.types
  * Classes
  * TextResource 
  * read 
  * BinaryResource 
  * read 
  * FileResource 
  * validate_absolute_path 
  * set_binary_from_mime_type 
  * read 
  * HttpResource 
  * read 
  * DirectoryResource 
  * validate_absolute_path 
  * list_files 
  * read 



fastmcp.resources

# types

Copy page

Copy page

# 

​

`fastmcp.resources.types`

Concrete resource implementations.

## 

​

Classes

### 

​

`TextResource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L21)

A resource that reads from a string. **Methods:**

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L26)

Copy
    
    
    read(self) -> str
    

Read the text content.

### 

​

`BinaryResource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L31)

A resource that reads from bytes. **Methods:**

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L36)

Copy
    
    
    read(self) -> bytes
    

Read the binary content.

### 

​

`FileResource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L41)

A resource that reads from a file. Set is_binary=True to read file as binary data instead of text. **Methods:**

#### 

​

`validate_absolute_path` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L63)

Copy
    
    
    validate_absolute_path(cls, path: Path) -> Path
    

Ensure path is absolute.

#### 

​

`set_binary_from_mime_type` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L71)

Copy
    
    
    set_binary_from_mime_type(cls, is_binary: bool, info: ValidationInfo) -> bool
    

Set is_binary based on mime_type if not explicitly set.

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L79)

Copy
    
    
    read(self) -> str | bytes
    

Read the file content.

### 

​

`HttpResource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L89)

A resource that reads from an HTTP endpoint. **Methods:**

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L98)

Copy
    
    
    read(self) -> str | bytes
    

Read the HTTP content.

### 

​

`DirectoryResource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L106)

A resource that lists files in a directory. **Methods:**

#### 

​

`validate_absolute_path` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L126)

Copy
    
    
    validate_absolute_path(cls, path: Path) -> Path
    

Ensure path is absolute.

#### 

​

`list_files` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L132)

Copy
    
    
    list_files(self) -> list[Path]
    

List files in the directory.

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/types.py#L148)

Copy
    
    
    read(self) -> str
    

Read the directory listing.

[templatePrevious](/python-sdk/fastmcp-resources-template)[__init__Next](/python-sdk/fastmcp-server-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-inspect

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

inspect

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.inspect
  * Functions
  * inspect_fastmcp_v2 
  * inspect_fastmcp_v1 
  * inspect_fastmcp 
  * format_fastmcp_info 
  * format_mcp_info 
  * format_info 
  * Classes
  * ToolInfo 
  * PromptInfo 
  * ResourceInfo 
  * TemplateInfo 
  * FastMCPInfo 
  * InspectFormat 



fastmcp.utilities

# inspect

Copy page

Copy page

# 

​

`fastmcp.utilities.inspect`

Utilities for inspecting FastMCP instances.

## 

​

Functions

### 

​

`inspect_fastmcp_v2` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L104)

Copy
    
    
    inspect_fastmcp_v2(mcp: FastMCP[Any]) -> FastMCPInfo
    

Extract information from a FastMCP v2.x instance. **Args:**

  * `mcp`: The FastMCP v2.x instance to inspect

**Returns:**

  * FastMCPInfo dataclass containing the extracted information



### 

​

`inspect_fastmcp_v1` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L244)

Copy
    
    
    inspect_fastmcp_v1(mcp: FastMCP1x) -> FastMCPInfo
    

Extract information from a FastMCP v1.x instance using a Client. **Args:**

  * `mcp`: The FastMCP v1.x instance to inspect

**Returns:**

  * FastMCPInfo dataclass containing the extracted information



### 

​

`inspect_fastmcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L390)

Copy
    
    
    inspect_fastmcp(mcp: FastMCP[Any] | FastMCP1x) -> FastMCPInfo
    

Extract information from a FastMCP instance into a dataclass. This function automatically detects whether the instance is FastMCP v1.x or v2.x and uses the appropriate extraction method. **Args:**

  * `mcp`: The FastMCP instance to inspect (v1.x or v2.x)

**Returns:**

  * FastMCPInfo dataclass containing the extracted information



### 

​

`format_fastmcp_info` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L415)

Copy
    
    
    format_fastmcp_info(info: FastMCPInfo) -> bytes
    

Format FastMCPInfo as FastMCP-specific JSON. This includes FastMCP-specific fields like tags, enabled, annotations, etc.

### 

​

`format_mcp_info` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L444)

Copy
    
    
    format_mcp_info(mcp: FastMCP[Any] | FastMCP1x) -> bytes
    

Format server info as standard MCP protocol JSON. Uses Client to get the standard MCP protocol format with camelCase fields. Includes version metadata at the top level.

### 

​

`format_info` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L477)

Copy
    
    
    format_info(mcp: FastMCP[Any] | FastMCP1x, format: InspectFormat | Literal['fastmcp', 'mcp'], info: FastMCPInfo | None = None) -> bytes
    

Format server information according to the specified format. **Args:**

  * `mcp`: The FastMCP instance
  * `format`: Output format (“fastmcp” or “mcp”)
  * `info`: Pre-extracted FastMCPInfo (optional, will be extracted if not provided)

**Returns:**

  * JSON bytes in the requested format



## 

​

Classes

### 

​

`ToolInfo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L19)

Information about a tool.

### 

​

`PromptInfo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L36)

Information about a prompt.

### 

​

`ResourceInfo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L51)

Information about a resource.

### 

​

`TemplateInfo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L68)

Information about a resource template.

### 

​

`FastMCPInfo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L86)

Information extracted from a FastMCP instance.

### 

​

`InspectFormat` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/inspect.py#L408)

Output format for inspect command.

[httpPrevious](/python-sdk/fastmcp-utilities-http)[json_schemaNext](/python-sdk/fastmcp-utilities-json_schema)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-mcp_config

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

mcp_config

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.mcp_config
  * Functions
  * mcp_config_to_servers_and_transports 
  * mcp_server_type_to_servers_and_transports 



fastmcp.utilities

# mcp_config

Copy page

Copy page

# 

​

`fastmcp.utilities.mcp_config`

## 

​

Functions

### 

​

`mcp_config_to_servers_and_transports` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_config.py#L17)

Copy
    
    
    mcp_config_to_servers_and_transports(config: MCPConfig) -> list[tuple[str, FastMCP[Any], ClientTransport]]
    

A utility function to convert each entry of an MCP Config into a transport and server.

### 

​

`mcp_server_type_to_servers_and_transports` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/mcp_config.py#L27)

Copy
    
    
    mcp_server_type_to_servers_and_transports(name: str, mcp_server: MCPServerTypes) -> tuple[str, FastMCP[Any], ClientTransport]
    

A utility function to convert each entry of an MCP Config into a transport and server.

[loggingPrevious](/python-sdk/fastmcp-utilities-logging)[__init__Next](/python-sdk/fastmcp-utilities-mcp_server_config-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-types

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

types

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.types
  * Functions
  * get_fn_name 
  * get_cached_typeadapter 
  * issubclass_safe 
  * is_class_member_of_type 
  * find_kwarg_by_type 
  * create_function_without_params 
  * replace_type 
  * Classes
  * FastMCPBaseModel 
  * Image 
  * to_image_content 
  * to_data_uri 
  * Audio 
  * to_audio_content 
  * File 
  * to_resource_content 
  * ContextSamplingFallbackProtocol 



fastmcp.utilities

# types

Copy page

Copy page

# 

​

`fastmcp.utilities.types`

Common types used across FastMCP.

## 

​

Functions

### 

​

`get_fn_name` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L34)

Copy
    
    
    get_fn_name(fn: Callable[..., Any]) -> str
    

### 

​

`get_cached_typeadapter` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L45)

Copy
    
    
    get_cached_typeadapter(cls: T) -> TypeAdapter[T]
    

TypeAdapters are heavy objects, and in an application context we’d typically create them once in a global scope and reuse them as often as possible. However, this isn’t feasible for user-generated functions. Instead, we use a cache to minimize the cost of creating them as much as possible.

### 

​

`issubclass_safe` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L120)

Copy
    
    
    issubclass_safe(cls: type, base: type) -> bool
    

Check if cls is a subclass of base, even if cls is a type variable.

### 

​

`is_class_member_of_type` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L130)

Copy
    
    
    is_class_member_of_type(cls: Any, base: type) -> bool
    

Check if cls is a member of base, even if cls is a type variable. Base can be a type, a UnionType, or an Annotated type. Generic types are not considered members (e.g. T is not a member of list[T]).

### 

​

`find_kwarg_by_type` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L152)

Copy
    
    
    find_kwarg_by_type(fn: Callable, kwarg_type: type) -> str | None
    

Find the name of the kwarg that is of type kwarg_type. Includes union types that contain the kwarg_type, as well as Annotated types.

### 

​

`create_function_without_params` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L178)

Copy
    
    
    create_function_without_params(fn: Callable[..., Any], exclude_params: list[str]) -> Callable[..., Any]
    

Create a new function with the same code but without the specified parameters in annotations. This is used to exclude parameters from type adapter processing when they can’t be serialized. The excluded parameters are removed from the function’s **annotations** dictionary.

### 

​

`replace_type` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L443)

Copy
    
    
    replace_type(type_, type_map: dict[type, type])
    

Given a (possibly generic, nested, or otherwise complex) type, replaces all instances of old_type with new_type. This is useful for transforming types when creating tools. **Args:**

  * `type_`: The type to replace instances of old_type with new_type.
  * `old_type`: The type to replace.
  * `new_type`: The type to replace old_type with.

Examples:

Copy
    
    
    >>> replace_type(list[int | bool], {int: str})
    list[str | bool]
    
    >>> replace_type(list[list[int]], {int: str})
    list[list[str]]
    

## 

​

Classes

### 

​

`FastMCPBaseModel` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L38)

Base model for FastMCP models.

### 

​

`Image` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L227)

Helper class for returning images from tools. **Methods:**

#### 

​

`to_image_content` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L278)

Copy
    
    
    to_image_content(self, mime_type: str | None = None, annotations: Annotations | None = None) -> mcp.types.ImageContent
    

Convert to MCP ImageContent.

#### 

​

`to_data_uri` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L293)

Copy
    
    
    to_data_uri(self, mime_type: str | None = None) -> str
    

Get image as a data URI.

### 

​

`Audio` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L299)

Helper class for returning audio from tools. **Methods:**

#### 

​

`to_audio_content` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L336)

Copy
    
    
    to_audio_content(self, mime_type: str | None = None, annotations: Annotations | None = None) -> mcp.types.AudioContent
    

### 

​

`File` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L357)

Helper class for returning file data from tools. **Methods:**

#### 

​

`to_resource_content` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L396)

Copy
    
    
    to_resource_content(self, mime_type: str | None = None, annotations: Annotations | None = None) -> mcp.types.EmbeddedResource
    

### 

​

`ContextSamplingFallbackProtocol` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/types.py#L480)

[testsPrevious](/python-sdk/fastmcp-utilities-tests)[uiNext](/python-sdk/fastmcp-utilities-ui)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-progress

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

progress

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.progress
  * Functions
  * default_progress_handler 



fastmcp.client

# progress

Copy page

Copy page

# 

​

`fastmcp.client.progress`

## 

​

Functions

### 

​

`default_progress_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/progress.py#L12)

Copy
    
    
    default_progress_handler(progress: float, total: float | None, message: str | None) -> None
    

Default handler for progress notifications. Logs progress updates at debug level, properly handling missing total or message values. **Args:**

  * `progress`: Current progress value
  * `total`: Optional total expected value
  * `message`: Optional status message



[oauth_callbackPrevious](/python-sdk/fastmcp-client-oauth_callback)[rootsNext](/python-sdk/fastmcp-client-roots)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-proxy

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

proxy

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server.proxy
  * Functions
  * default_proxy_roots_handler 
  * Classes
  * ProxyManagerMixin 
  * ProxyToolManager 
  * get_tools 
  * list_tools 
  * call_tool 
  * ProxyResourceManager 
  * get_resources 
  * get_resource_templates 
  * list_resources 
  * list_resource_templates 
  * read_resource 
  * ProxyPromptManager 
  * get_prompts 
  * list_prompts 
  * render_prompt 
  * ProxyTool 
  * from_mcp_tool 
  * run 
  * ProxyResource 
  * from_mcp_resource 
  * read 
  * ProxyTemplate 
  * from_mcp_template 
  * create_resource 
  * ProxyPrompt 
  * from_mcp_prompt 
  * render 
  * FastMCPProxy 
  * ProxyClient 
  * default_sampling_handler 
  * default_elicitation_handler 
  * default_log_handler 
  * default_progress_handler 
  * StatefulProxyClient 
  * clear 
  * new_stateful 



fastmcp.server

# proxy

Copy page

Copy page

# 

​

`fastmcp.server.proxy`

## 

​

Functions

### 

​

`default_proxy_roots_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L523)

Copy
    
    
    default_proxy_roots_handler(context: RequestContext[ClientSession, LifespanContextT]) -> RootsList
    

A handler that forwards the list roots request from the remote server to the proxy’s connected clients and relays the response back to the remote server.

## 

​

Classes

### 

​

`ProxyManagerMixin` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L56)

A mixin for proxy managers to provide a unified client retrieval method.

### 

​

`ProxyToolManager` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L69)

A ToolManager that sources its tools from a remote client in addition to local and mounted tools. **Methods:**

#### 

​

`get_tools` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L76)

Copy
    
    
    get_tools(self) -> dict[str, Tool]
    

Gets the unfiltered tool inventory including local, mounted, and proxy tools.

#### 

​

`list_tools` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L102)

Copy
    
    
    list_tools(self) -> list[Tool]
    

Gets the filtered list of tools including local, mounted, and proxy tools.

#### 

​

`call_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L107)

Copy
    
    
    call_tool(self, key: str, arguments: dict[str, Any]) -> ToolResult
    

Calls a tool, trying local/mounted first, then proxy if not found.

### 

​

`ProxyResourceManager` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L123)

A ResourceManager that sources its resources from a remote client in addition to local and mounted resources. **Methods:**

#### 

​

`get_resources` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L130)

Copy
    
    
    get_resources(self) -> dict[str, Resource]
    

Gets the unfiltered resource inventory including local, mounted, and proxy resources.

#### 

​

`get_resource_templates` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L153)

Copy
    
    
    get_resource_templates(self) -> dict[str, ResourceTemplate]
    

Gets the unfiltered template inventory including local, mounted, and proxy templates.

#### 

​

`list_resources` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L176)

Copy
    
    
    list_resources(self) -> list[Resource]
    

Gets the filtered list of resources including local, mounted, and proxy resources.

#### 

​

`list_resource_templates` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L181)

Copy
    
    
    list_resource_templates(self) -> list[ResourceTemplate]
    

Gets the filtered list of templates including local, mounted, and proxy templates.

#### 

​

`read_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L186)

Copy
    
    
    read_resource(self, uri: AnyUrl | str) -> str | bytes
    

Reads a resource, trying local/mounted first, then proxy if not found.

### 

​

`ProxyPromptManager` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L206)

A PromptManager that sources its prompts from a remote client in addition to local and mounted prompts. **Methods:**

#### 

​

`get_prompts` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L213)

Copy
    
    
    get_prompts(self) -> dict[str, Prompt]
    

Gets the unfiltered prompt inventory including local, mounted, and proxy prompts.

#### 

​

`list_prompts` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L236)

Copy
    
    
    list_prompts(self) -> list[Prompt]
    

Gets the filtered list of prompts including local, mounted, and proxy prompts.

#### 

​

`render_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L241)

Copy
    
    
    render_prompt(self, name: str, arguments: dict[str, Any] | None = None) -> GetPromptResult
    

Renders a prompt, trying local/mounted first, then proxy if not found.

### 

​

`ProxyTool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L258)

A Tool that represents and executes a tool on a remote server. **Methods:**

#### 

​

`from_mcp_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L268)

Copy
    
    
    from_mcp_tool(cls, client: Client, mcp_tool: mcp.types.Tool) -> ProxyTool
    

Factory method to create a ProxyTool from a raw MCP tool schema.

#### 

​

`run` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L282)

Copy
    
    
    run(self, arguments: dict[str, Any], context: Context | None = None) -> ToolResult
    

Executes the tool by making a call through the client.

### 

​

`ProxyResource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L301)

A Resource that represents and reads a resource from a remote server. **Methods:**

#### 

​

`from_mcp_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L321)

Copy
    
    
    from_mcp_resource(cls, client: Client, mcp_resource: mcp.types.Resource) -> ProxyResource
    

Factory method to create a ProxyResource from a raw MCP resource schema.

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L339)

Copy
    
    
    read(self) -> str | bytes
    

Read the resource content from the remote server.

### 

​

`ProxyTemplate` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L354)

A ResourceTemplate that represents and creates resources from a remote server template. **Methods:**

#### 

​

`from_mcp_template` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L364)

Copy
    
    
    from_mcp_template(cls, client: Client, mcp_template: mcp.types.ResourceTemplate) -> ProxyTemplate
    

Factory method to create a ProxyTemplate from a raw MCP template schema.

#### 

​

`create_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L380)

Copy
    
    
    create_resource(self, uri: str, params: dict[str, Any], context: Context | None = None) -> ProxyResource
    

Create a resource from the template by calling the remote server.

### 

​

`ProxyPrompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L415)

A Prompt that represents and renders a prompt from a remote server. **Methods:**

#### 

​

`from_mcp_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L427)

Copy
    
    
    from_mcp_prompt(cls, client: Client, mcp_prompt: mcp.types.Prompt) -> ProxyPrompt
    

Factory method to create a ProxyPrompt from a raw MCP prompt schema.

#### 

​

`render` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L449)

Copy
    
    
    render(self, arguments: dict[str, Any]) -> list[PromptMessage]
    

Render the prompt by making a call through the client.

### 

​

`FastMCPProxy` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L456)

A FastMCP server that acts as a proxy to a remote MCP-compliant server. It uses specialized managers that fulfill requests via a client factory.

### 

​

`ProxyClient` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L533)

A proxy client that forwards advanced interactions between a remote MCP server and the proxy’s connected clients. Supports forwarding roots, sampling, elicitation, logging, and progress. **Methods:**

#### 

​

`default_sampling_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L566)

Copy
    
    
    default_sampling_handler(cls, messages: list[mcp.types.SamplingMessage], params: mcp.types.CreateMessageRequestParams, context: RequestContext[ClientSession, LifespanContextT]) -> mcp.types.CreateMessageResult
    

A handler that forwards the sampling request from the remote server to the proxy’s connected clients and relays the response back to the remote server.

#### 

​

`default_elicitation_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L592)

Copy
    
    
    default_elicitation_handler(cls, message: str, response_type: type, params: mcp.types.ElicitRequestParams, context: RequestContext[ClientSession, LifespanContextT]) -> ElicitResult
    

A handler that forwards the elicitation request from the remote server to the proxy’s connected clients and relays the response back to the remote server.

#### 

​

`default_log_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L611)

Copy
    
    
    default_log_handler(cls, message: LogMessage) -> None
    

A handler that forwards the log notification from the remote server to the proxy’s connected clients.

#### 

​

`default_progress_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L621)

Copy
    
    
    default_progress_handler(cls, progress: float, total: float | None, message: str | None) -> None
    

A handler that forwards the progress notification from the remote server to the proxy’s connected clients.

### 

​

`StatefulProxyClient` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L634)

A proxy client that provides a stateful client factory for the proxy server. The stateful proxy client bound its copy to the server session. And it will be disconnected when the session is exited. This is useful to proxy a stateful mcp server such as the Playwright MCP server. Note that it is essential to ensure that the proxy server itself is also stateful. **Methods:**

#### 

​

`clear` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L655)

Copy
    
    
    clear(self)
    

Clear all cached clients and force disconnect them.

#### 

​

`new_stateful` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/proxy.py#L663)

Copy
    
    
    new_stateful(self) -> Client[ClientTransportT]
    

Create a new stateful proxy client instance with the same configuration. Use this method as the client factory for stateful proxy server.

[openapiPrevious](/python-sdk/fastmcp-server-openapi)[serverNext](/python-sdk/fastmcp-server-server)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-prompts-__init__

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.prompts

__init__

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.prompts



fastmcp.prompts

# __init__

Copy page

Copy page

# 

​

`fastmcp.prompts`

_This module is empty or contains only private/internal implementations._

[ transportsPrevious](/python-sdk/fastmcp-client-transports)[promptNext](/python-sdk/fastmcp-prompts-prompt)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-prompts-prompt

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.prompts

prompt

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.prompts.prompt
  * Functions
  * Message 
  * Classes
  * PromptArgument 
  * Prompt 
  * enable 
  * disable 
  * to_mcp_prompt 
  * from_function 
  * render 
  * FunctionPrompt 
  * from_function 
  * render 



fastmcp.prompts

# prompt

Copy page

Copy page

# 

​

`fastmcp.prompts.prompt`

Base classes for FastMCP prompts.

## 

​

Functions

### 

​

`Message` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L30)

Copy
    
    
    Message(content: str | ContentBlock, role: Role | None = None, **kwargs: Any) -> PromptMessage
    

A user-friendly constructor for PromptMessage.

## 

​

Classes

### 

​

`PromptArgument` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L52)

An argument that can be passed to a prompt.

### 

​

`Prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L64)

A prompt template that can be rendered with parameters. **Methods:**

#### 

​

`enable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L71)

Copy
    
    
    enable(self) -> None
    

#### 

​

`disable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L79)

Copy
    
    
    disable(self) -> None
    

#### 

​

`to_mcp_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L87)

Copy
    
    
    to_mcp_prompt(self, **overrides: Any) -> MCPPrompt
    

Convert the prompt to an MCP prompt.

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L115)

Copy
    
    
    from_function(fn: Callable[..., PromptResult | Awaitable[PromptResult]], name: str | None = None, title: str | None = None, description: str | None = None, icons: list[Icon] | None = None, tags: set[str] | None = None, enabled: bool | None = None, meta: dict[str, Any] | None = None) -> FunctionPrompt
    

Create a Prompt from a function. The function can return:

  * A string (converted to a message)
  * A Message object
  * A dict (converted to a message)
  * A sequence of any of the above



#### 

​

`render` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L144)

Copy
    
    
    render(self, arguments: dict[str, Any] | None = None) -> list[PromptMessage]
    

Render the prompt with arguments. This method is not implemented in the base Prompt class and must be implemented by subclasses.

### 

​

`FunctionPrompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L156)

A prompt that is a function. **Methods:**

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L162)

Copy
    
    
    from_function(cls, fn: Callable[..., PromptResult | Awaitable[PromptResult]], name: str | None = None, title: str | None = None, description: str | None = None, icons: list[Icon] | None = None, tags: set[str] | None = None, enabled: bool | None = None, meta: dict[str, Any] | None = None) -> FunctionPrompt
    

Create a Prompt from a function. The function can return:

  * A string (converted to a message)
  * A Message object
  * A dict (converted to a message)
  * A sequence of any of the above



#### 

​

`render` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt.py#L318)

Copy
    
    
    render(self, arguments: dict[str, Any] | None = None) -> list[PromptMessage]
    

Render the prompt with arguments.

[__init__Previous](/python-sdk/fastmcp-prompts-__init__)[prompt_managerNext](/python-sdk/fastmcp-prompts-prompt_manager)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-prompts-prompt_manager

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.prompts

prompt_manager

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.prompts.prompt_manager
  * Classes
  * PromptManager 
  * has_prompt 
  * get_prompt 
  * get_prompts 
  * add_prompt_from_fn 
  * add_prompt 
  * render_prompt 



fastmcp.prompts

# prompt_manager

Copy page

Copy page

# 

​

`fastmcp.prompts.prompt_manager`

## 

​

Classes

### 

​

`PromptManager` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt_manager.py#L18)

Manages FastMCP prompts. **Methods:**

#### 

​

`has_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt_manager.py#L41)

Copy
    
    
    has_prompt(self, key: str) -> bool
    

Check if a prompt exists.

#### 

​

`get_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt_manager.py#L46)

Copy
    
    
    get_prompt(self, key: str) -> Prompt
    

Get prompt by key.

#### 

​

`get_prompts` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt_manager.py#L53)

Copy
    
    
    get_prompts(self) -> dict[str, Prompt]
    

Gets the complete, unfiltered inventory of local prompts.

#### 

​

`add_prompt_from_fn` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt_manager.py#L59)

Copy
    
    
    add_prompt_from_fn(self, fn: Callable[..., PromptResult | Awaitable[PromptResult]], name: str | None = None, description: str | None = None, tags: set[str] | None = None) -> FunctionPrompt
    

Create a prompt from a function.

#### 

​

`add_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt_manager.py#L79)

Copy
    
    
    add_prompt(self, prompt: Prompt) -> Prompt
    

Add a prompt to the manager.

#### 

​

`render_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/prompts/prompt_manager.py#L97)

Copy
    
    
    render_prompt(self, name: str, arguments: dict[str, Any] | None = None) -> GetPromptResult
    

Internal API for servers: Finds and renders a prompt, respecting the filtered protocol path.

[promptPrevious](/python-sdk/fastmcp-prompts-prompt)[__init__Next](/python-sdk/fastmcp-resources-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-resources-resource

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.resources

resource

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.resources.resource
  * Classes
  * Resource 
  * enable 
  * disable 
  * from_function 
  * set_default_mime_type 
  * set_default_name 
  * read 
  * to_mcp_resource 
  * key 
  * FunctionResource 
  * from_function 
  * read 



fastmcp.resources

# resource

Copy page

Copy page

# 

​

`fastmcp.resources.resource`

Base classes and interfaces for FastMCP resources.

## 

​

Classes

### 

​

`Resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L33)

Base class for all resources. **Methods:**

#### 

​

`enable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L52)

Copy
    
    
    enable(self) -> None
    

#### 

​

`disable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L60)

Copy
    
    
    disable(self) -> None
    

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L69)

Copy
    
    
    from_function(fn: Callable[..., Any], uri: str | AnyUrl, name: str | None = None, title: str | None = None, description: str | None = None, icons: list[Icon] | None = None, mime_type: str | None = None, tags: set[str] | None = None, enabled: bool | None = None, annotations: Annotations | None = None, meta: dict[str, Any] | None = None) -> FunctionResource
    

#### 

​

`set_default_mime_type` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L98)

Copy
    
    
    set_default_mime_type(cls, mime_type: str | None) -> str
    

Set default MIME type if not provided.

#### 

​

`set_default_name` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L105)

Copy
    
    
    set_default_name(self) -> Self
    

Set default name from URI if not provided.

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L115)

Copy
    
    
    read(self) -> str | bytes
    

Read the resource content. This method is not implemented in the base Resource class and must be implemented by subclasses.

#### 

​

`to_mcp_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L123)

Copy
    
    
    to_mcp_resource(self, **overrides: Any) -> MCPResource
    

Convert the resource to an MCPResource.

#### 

​

`key` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L148)

Copy
    
    
    key(self) -> str
    

The key of the component. This is used for internal bookkeeping and may reflect e.g. prefixes or other identifiers. You should not depend on keys having a certain value, as the same tool loaded from different hierarchies of servers may have different keys.

### 

​

`FunctionResource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L158)

A resource that defers data loading by wrapping a function. The function is only called when the resource is read, allowing for lazy loading of potentially expensive data. This is particularly useful when listing resources, as the function won’t be called until the resource is actually accessed. The function can return:

  * str for text content (default)
  * bytes for binary content
  * other types will be converted to JSON

**Methods:**

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L174)

Copy
    
    
    from_function(cls, fn: Callable[..., Any], uri: str | AnyUrl, name: str | None = None, title: str | None = None, description: str | None = None, icons: list[Icon] | None = None, mime_type: str | None = None, tags: set[str] | None = None, enabled: bool | None = None, annotations: Annotations | None = None, meta: dict[str, Any] | None = None) -> FunctionResource
    

Create a FunctionResource from a function.

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/resource.py#L205)

Copy
    
    
    read(self) -> str | bytes
    

Read the resource by calling the wrapped function.

[__init__Previous](/python-sdk/fastmcp-resources-__init__)[resource_managerNext](/python-sdk/fastmcp-resources-resource_manager)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-__init__

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

__init__

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client



fastmcp.client

# __init__

Copy page

Copy page

# 

​

`fastmcp.client`

_This module is empty or contains only private/internal implementations._

[ runPrevious](/python-sdk/fastmcp-cli-run)[__init__Next](/python-sdk/fastmcp-client-auth-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-elicitation

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

elicitation

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server.elicitation
  * Functions
  * get_elicitation_schema 
  * validate_elicitation_json_schema 
  * Classes
  * ElicitationJsonSchema 
  * generate_inner 
  * enum_schema 
  * AcceptedElicitation 
  * ScalarElicitationType 



fastmcp.server

# elicitation

Copy page

Copy page

# 

​

`fastmcp.server.elicitation`

## 

​

Functions

### 

​

`get_elicitation_schema` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L99)

Copy
    
    
    get_elicitation_schema(response_type: type[T]) -> dict[str, Any]
    

Get the schema for an elicitation response. **Args:**

  * `response_type`: The type of the response



### 

​

`validate_elicitation_json_schema` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L118)

Copy
    
    
    validate_elicitation_json_schema(schema: dict[str, Any]) -> None
    

Validate that a JSON schema follows MCP elicitation requirements. This ensures the schema is compatible with MCP elicitation requirements:

  * Must be an object schema
  * Must only contain primitive field types (string, number, integer, boolean)
  * Must be flat (no nested objects or arrays of objects)
  * Allows const fields (for Literal types) and enum fields (for Enum types)
  * Only primitive types and their nullable variants are allowed

**Args:**

  * `schema`: The JSON schema to validate

**Raises:**

  * `TypeError`: If the schema doesn’t meet MCP elicitation requirements



## 

​

Classes

### 

​

`ElicitationJsonSchema` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L32)

Custom JSON schema generator for MCP elicitation that always inlines enums. MCP elicitation requires inline enum schemas without ref/ref/ref/defs references. This generator ensures enums are always generated inline for compatibility. Optionally adds enumNames for better UI display when available. **Methods:**

#### 

​

`generate_inner` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L40)

Copy
    
    
    generate_inner(self, schema: core_schema.CoreSchema) -> JsonSchemaValue
    

Override to prevent ref generation for enums.

#### 

​

`enum_schema` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L50)

Copy
    
    
    enum_schema(self, schema: core_schema.EnumSchema) -> JsonSchemaValue
    

Generate inline enum schema with optional enumNames for better UI. If enum members have a _display_name_ attribute or custom **str** , we’ll include enumNames for better UI representation.

### 

​

`AcceptedElicitation` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L87)

Result when user accepts the elicitation.

### 

​

`ScalarElicitationType` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/elicitation.py#L95)

[dependenciesPrevious](/python-sdk/fastmcp-server-dependencies)[httpNext](/python-sdk/fastmcp-server-http)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-tools-tool

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.tools

tool

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.tools.tool
  * Functions
  * default_serializer 
  * Classes
  * ToolResult 
  * to_mcp_result 
  * Tool 
  * enable 
  * disable 
  * to_mcp_tool 
  * from_function 
  * run 
  * from_tool 
  * FunctionTool 
  * from_function 
  * run 
  * ParsedFunction 
  * from_function 



fastmcp.tools

# tool

Copy page

Copy page

# 

​

`fastmcp.tools.tool`

## 

​

Functions

### 

​

`default_serializer` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L63)

Copy
    
    
    default_serializer(data: Any) -> str
    

## 

​

Classes

### 

​

`ToolResult` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L67)

**Methods:**

#### 

​

`to_mcp_result` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L100)

Copy
    
    
    to_mcp_result(self) -> list[ContentBlock] | tuple[list[ContentBlock], dict[str, Any]] | CallToolResult
    

### 

​

`Tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L116)

Internal tool registration info. **Methods:**

#### 

​

`enable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L134)

Copy
    
    
    enable(self) -> None
    

#### 

​

`disable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L142)

Copy
    
    
    disable(self) -> None
    

#### 

​

`to_mcp_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L150)

Copy
    
    
    to_mcp_tool(self, **overrides: Any) -> MCPTool
    

Convert the FastMCP tool to an MCP tool.

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L178)

Copy
    
    
    from_function(fn: Callable[..., Any], name: str | None = None, title: str | None = None, description: str | None = None, icons: list[Icon] | None = None, tags: set[str] | None = None, annotations: ToolAnnotations | None = None, exclude_args: list[str] | None = None, output_schema: dict[str, Any] | Literal[False] | NotSetT | None = NotSet, serializer: ToolResultSerializerType | None = None, meta: dict[str, Any] | None = None, enabled: bool | None = None) -> FunctionTool
    

Create a Tool from a function.

#### 

​

`run` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L208)

Copy
    
    
    run(self, arguments: dict[str, Any]) -> ToolResult
    

Run the tool with arguments. This method is not implemented in the base Tool class and must be implemented by subclasses. `run()` can EITHER return a list of ContentBlocks, or a tuple of (list of ContentBlocks, dict of structured output).

#### 

​

`from_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L221)

Copy
    
    
    from_tool(cls, tool: Tool) -> TransformedTool
    

### 

​

`FunctionTool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L255)

**Methods:**

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L259)

Copy
    
    
    from_function(cls, fn: Callable[..., Any], name: str | None = None, title: str | None = None, description: str | None = None, icons: list[Icon] | None = None, tags: set[str] | None = None, annotations: ToolAnnotations | None = None, exclude_args: list[str] | None = None, output_schema: dict[str, Any] | Literal[False] | NotSetT | None = NotSet, serializer: ToolResultSerializerType | None = None, meta: dict[str, Any] | None = None, enabled: bool | None = None) -> FunctionTool
    

Create a Tool from a function.

#### 

​

`run` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L330)

Copy
    
    
    run(self, arguments: dict[str, Any]) -> ToolResult
    

Run the tool with arguments.

### 

​

`ParsedFunction` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L397)

**Methods:**

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool.py#L405)

Copy
    
    
    from_function(cls, fn: Callable[..., Any], exclude_args: list[str] | None = None, validate: bool = True, wrap_non_object_output_schema: bool = True) -> ParsedFunction
    

[__init__Previous](/python-sdk/fastmcp-tools-__init__)[tool_managerNext](/python-sdk/fastmcp-tools-tool_manager)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-tools-tool_transform

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.tools

tool_transform

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.tools.tool_transform
  * Functions
  * forward 
  * forward_raw 
  * apply_transformations_to_tools 
  * Classes
  * ArgTransform 
  * ArgTransformConfig 
  * to_arg_transform 
  * TransformedTool 
  * run 
  * from_tool 
  * Transform specific arguments only
  * Custom function with partial transforms
  * Using **kwargs (gets all args, transformed and untransformed)
  * Control structured outputs and schemas
  * ToolTransformConfig 
  * apply 



fastmcp.tools

# tool_transform

Copy page

Copy page

# 

​

`fastmcp.tools.tool_transform`

## 

​

Functions

### 

​

`forward` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L37)

Copy
    
    
    forward(**kwargs: Any) -> ToolResult
    

Forward to parent tool with argument transformation applied. This function can only be called from within a transformed tool’s custom function. It applies argument transformation (renaming, validation) before calling the parent tool. For example, if the parent tool has args `x` and `y`, but the transformed tool has args `a` and `b`, and an `transform_args` was provided that maps `x` to `a` and `y` to `b`, then `forward(a=1, b=2)` will call the parent tool with `x=1` and `y=2`. **Args:**

  * `**kwargs`: Arguments to forward to the parent tool (using transformed names).

**Returns:**

  * The ToolResult from the parent tool execution.

**Raises:**

  * `RuntimeError`: If called outside a transformed tool context.
  * `TypeError`: If provided arguments don’t match the transformed schema.



### 

​

`forward_raw` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L67)

Copy
    
    
    forward_raw(**kwargs: Any) -> ToolResult
    

Forward directly to parent tool without transformation. This function bypasses all argument transformation and validation, calling the parent tool directly with the provided arguments. Use this when you need to call the parent with its original parameter names and structure. For example, if the parent tool has args `x` and `y`, then `forward_raw(x=1, y=2)` will call the parent tool with `x=1` and `y=2`. **Args:**

  * `**kwargs`: Arguments to pass directly to the parent tool (using original names).

**Returns:**

  * The ToolResult from the parent tool execution.

**Raises:**

  * `RuntimeError`: If called outside a transformed tool context.



### 

​

`apply_transformations_to_tools` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L933)

Copy
    
    
    apply_transformations_to_tools(tools: dict[str, Tool], transformations: dict[str, ToolTransformConfig]) -> dict[str, Tool]
    

Apply a list of transformations to a list of tools. Tools that do not have any transformations are left unchanged.

## 

​

Classes

### 

​

`ArgTransform` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L94)

Configuration for transforming a parent tool’s argument. This class allows fine-grained control over how individual arguments are transformed when creating a new tool from an existing one. You can rename arguments, change their descriptions, add default values, or hide them from clients while passing constants. **Examples:** Rename argument ‘old_name’ to ‘new_name’

Copy
    
    
    ArgTransform(name="new_name")
    

Change description only

Copy
    
    
    ArgTransform(description="Updated description")
    

Add a default value (makes argument optional)

Copy
    
    
    ArgTransform(default=42)
    

Add a default factory (makes argument optional)

Copy
    
    
    ArgTransform(default_factory=lambda: time.time())
    

Change the type

Copy
    
    
    ArgTransform(type=str)
    

Hide the argument entirely from clients

Copy
    
    
    ArgTransform(hide=True)
    

Hide argument but pass a constant value to parent

Copy
    
    
    ArgTransform(hide=True, default="constant_value")
    

Hide argument but pass a factory-generated value to parent

Copy
    
    
    ArgTransform(hide=True, default_factory=lambda: uuid.uuid4().hex)
    

Make an optional parameter required (removes any default)

Copy
    
    
    ArgTransform(required=True)
    

Combine multiple transformations

Copy
    
    
    ArgTransform(name="new_name", description="New desc", default=None, type=int)
    

### 

​

`ArgTransformConfig` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L208)

A model for requesting a single argument transform. **Methods:**

#### 

​

`to_arg_transform` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L226)

Copy
    
    
    to_arg_transform(self) -> ArgTransform
    

Convert the argument transform to a FastMCP argument transform.

### 

​

`TransformedTool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L232)

A tool that is transformed from another tool. This class represents a tool that has been created by transforming another tool. It supports argument renaming, schema modification, custom function injection, structured output control, and provides context for the forward() and forward_raw() functions. The transformation can be purely schema-based (argument renaming, dropping, etc.) or can include a custom function that uses forward() to call the parent tool with transformed arguments. Output schemas and structured outputs are automatically inherited from the parent tool but can be overridden or disabled. **Methods:**

#### 

​

`run` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L259)

Copy
    
    
    run(self, arguments: dict[str, Any]) -> ToolResult
    

Run the tool with context set for forward() functions. This method executes the tool’s function while setting up the context that allows forward() and forward_raw() to work correctly within custom functions. **Args:**

  * `arguments`: Dictionary of arguments to pass to the tool’s function.

**Returns:**

  * ToolResult object containing content and optional structured output.



#### 

​

`from_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L364)

Copy
    
    
    from_tool(cls, tool: Tool, name: str | None = None, title: str | NotSetT | None = NotSet, description: str | NotSetT | None = NotSet, tags: set[str] | None = None, transform_fn: Callable[..., Any] | None = None, transform_args: dict[str, ArgTransform] | None = None, annotations: ToolAnnotations | NotSetT | None = NotSet, output_schema: dict[str, Any] | Literal[False] | NotSetT | None = NotSet, serializer: Callable[[Any], str] | NotSetT | None = NotSet, meta: dict[str, Any] | NotSetT | None = NotSet, enabled: bool | None = None) -> TransformedTool
    

Create a transformed tool from a parent tool. **Args:**

  * `tool`: The parent tool to transform.
  * `transform_fn`: Optional custom function. Can use forward() and forward_raw() to call the parent tool. Functions with **kwargs receive transformed argument names.
  * `name`: New name for the tool. Defaults to parent tool’s name.
  * `title`: New title for the tool. Defaults to parent tool’s title.
  * `transform_args`: Optional transformations for parent tool arguments. Only specified arguments are transformed, others pass through unchanged:
  * Simple rename (str)
  * Complex transformation (rename/description/default/drop) (ArgTransform)
  * Drop the argument (None)
  * `description`: New description. Defaults to parent’s description.
  * `tags`: New tags. Defaults to parent’s tags.
  * `annotations`: New annotations. Defaults to parent’s annotations.
  * `output_schema`: Control output schema for structured outputs:
  * None (default): Inherit from transform_fn if available, then parent tool
  * dict: Use custom output schema
  * False: Disable output schema and structured outputs
  * `serializer`: New serializer. Defaults to parent’s serializer.
  * `meta`: Control meta information:
  * NotSet (default): Inherit from parent tool
  * dict: Use custom meta information
  * None: Remove meta information

**Returns:**

  * TransformedTool with the specified transformations.

**Examples:**

# 

​

Transform specific arguments only

Copy
    
    
    Tool.from_tool(parent, transform_args={"old": "new"})  # Others unchanged
    

# 

​

Custom function with partial transforms

Copy
    
    
    async def custom(x: int, y: int) -> str:
        result = await forward(x=x, y=y)
        return f"Custom: {result}"
    
    Tool.from_tool(parent, transform_fn=custom, transform_args={"a": "x", "b": "y"})
    

# 

​

Using **kwargs (gets all args, transformed and untransformed)

Copy
    
    
    async def flexible(**kwargs) -> str:
        result = await forward(**kwargs)
        return f"Got: {kwargs}"
    
    Tool.from_tool(parent, transform_fn=flexible, transform_args={"a": "x"})
    

# 

​

Control structured outputs and schemas

Copy
    
    
    # Custom output schema
    Tool.from_tool(parent, output_schema={
        "type": "object",
        "properties": {"status": {"type": "string"}}
    })
    
    # Disable structured outputs
    Tool.from_tool(parent, output_schema=None)
    
    # Return ToolResult for full control
    async def custom_output(**kwargs) -> ToolResult:
        result = await forward(**kwargs)
        return ToolResult(
            content=[TextContent(text="Summary")],
            structured_content={"processed": True}
        )
    

### 

​

`ToolTransformConfig` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L887)

Provides a way to transform a tool. **Methods:**

#### 

​

`apply` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_transform.py#L919)

Copy
    
    
    apply(self, tool: Tool) -> TransformedTool
    

Create a TransformedTool from a provided tool and this transformation configuration.

[tool_managerPrevious](/python-sdk/fastmcp-tools-tool_manager)[__init__Next](/python-sdk/fastmcp-utilities-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-tools-tool_manager

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.tools

tool_manager

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.tools.tool_manager
  * Classes
  * ToolManager 
  * has_tool 
  * get_tool 
  * get_tools 
  * add_tool_from_fn 
  * add_tool 
  * add_tool_transformation 
  * get_tool_transformation 
  * remove_tool_transformation 
  * remove_tool 
  * call_tool 



fastmcp.tools

# tool_manager

Copy page

Copy page

# 

​

`fastmcp.tools.tool_manager`

## 

​

Classes

### 

​

`ToolManager` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L23)

Manages FastMCP tools. **Methods:**

#### 

​

`has_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L60)

Copy
    
    
    has_tool(self, key: str) -> bool
    

Check if a tool exists.

#### 

​

`get_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L65)

Copy
    
    
    get_tool(self, key: str) -> Tool
    

Get tool by key.

#### 

​

`get_tools` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L72)

Copy
    
    
    get_tools(self) -> dict[str, Tool]
    

Gets the complete, unfiltered inventory of local tools.

#### 

​

`add_tool_from_fn` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L78)

Copy
    
    
    add_tool_from_fn(self, fn: Callable[..., Any], name: str | None = None, description: str | None = None, tags: set[str] | None = None, annotations: ToolAnnotations | None = None, serializer: Callable[[Any], str] | None = None, exclude_args: list[str] | None = None) -> Tool
    

Add a tool to the server.

#### 

​

`add_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L107)

Copy
    
    
    add_tool(self, tool: Tool) -> Tool
    

Register a tool with the server.

#### 

​

`add_tool_transformation` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L124)

Copy
    
    
    add_tool_transformation(self, tool_name: str, transformation: ToolTransformConfig) -> None
    

Add a tool transformation.

#### 

​

`get_tool_transformation` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L130)

Copy
    
    
    get_tool_transformation(self, tool_name: str) -> ToolTransformConfig | None
    

Get a tool transformation.

#### 

​

`remove_tool_transformation` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L134)

Copy
    
    
    remove_tool_transformation(self, tool_name: str) -> None
    

Remove a tool transformation.

#### 

​

`remove_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L139)

Copy
    
    
    remove_tool(self, key: str) -> None
    

Remove a tool from the server. **Args:**

  * `key`: The key of the tool to remove

**Raises:**

  * `NotFoundError`: If the tool is not found



#### 

​

`call_tool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/tools/tool_manager.py#L153)

Copy
    
    
    call_tool(self, key: str, arguments: dict[str, Any]) -> ToolResult
    

Internal API for servers: Finds and calls a tool, respecting the filtered protocol path.

[toolPrevious](/python-sdk/fastmcp-tools-tool)[tool_transformNext](/python-sdk/fastmcp-tools-tool_transform)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-components

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

components

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.components
  * Classes
  * FastMCPMeta 
  * FastMCPComponent 
  * key 
  * get_meta 
  * model_copy 
  * enable 
  * disable 
  * copy 
  * MirroredComponent 
  * enable 
  * disable 
  * copy 



fastmcp.utilities

# components

Copy page

Copy page

# 

​

`fastmcp.utilities.components`

## 

​

Classes

### 

​

`FastMCPMeta` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L16)

### 

​

`FastMCPComponent` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L29)

Base class for FastMCP tools, prompts, resources, and resource templates. **Methods:**

#### 

​

`key` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L66)

Copy
    
    
    key(self) -> str
    

The key of the component. This is used for internal bookkeeping and may reflect e.g. prefixes or other identifiers. You should not depend on keys having a certain value, as the same tool loaded from different hierarchies of servers may have different keys.

#### 

​

`get_meta` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L75)

Copy
    
    
    get_meta(self, include_fastmcp_meta: bool | None = None) -> dict[str, Any] | None
    

Get the meta information about the component. If include_fastmcp_meta is True, a `_fastmcp` key will be added to the meta, containing a `tags` field with the tags of the component.

#### 

​

`model_copy` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L99)

Copy
    
    
    model_copy(self) -> Self
    

Create a copy of the component. **Args:**

  * `update`: A dictionary of fields to update.
  * `deep`: Whether to deep copy the component.
  * `key`: The key to use for the copy.



#### 

​

`enable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L132)

Copy
    
    
    enable(self) -> None
    

Enable the component.

#### 

​

`disable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L136)

Copy
    
    
    disable(self) -> None
    

Disable the component.

#### 

​

`copy` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L140)

Copy
    
    
    copy(self) -> Self
    

Create a copy of the component.

### 

​

`MirroredComponent` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L145)

Base class for components that are mirrored from a remote server. Mirrored components cannot be enabled or disabled directly. Call copy() first to create a local version you can modify. **Methods:**

#### 

​

`enable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L158)

Copy
    
    
    enable(self) -> None
    

Enable the component.

#### 

​

`disable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L167)

Copy
    
    
    disable(self) -> None
    

Disable the component.

#### 

​

`copy` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/components.py#L176)

Copy
    
    
    copy(self) -> Self
    

Create a copy of the component that can be modified.

[cliPrevious](/python-sdk/fastmcp-utilities-cli)[exceptionsNext](/python-sdk/fastmcp-utilities-exceptions)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-exceptions

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

exceptions

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.exceptions
  * Functions
  * iter_exc 
  * get_catch_handlers 



fastmcp.utilities

# exceptions

Copy page

Copy page

# 

​

`fastmcp.utilities.exceptions`

## 

​

Functions

### 

​

`iter_exc` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/exceptions.py#L12)

Copy
    
    
    iter_exc(group: BaseExceptionGroup)
    

### 

​

`get_catch_handlers` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/exceptions.py#L42)

Copy
    
    
    get_catch_handlers() -> Mapping[type[BaseException] | Iterable[type[BaseException]], Callable[[BaseExceptionGroup[Any]], Any]]
    

[componentsPrevious](/python-sdk/fastmcp-utilities-components)[httpNext](/python-sdk/fastmcp-utilities-http)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-ui

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

ui

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.ui
  * Functions
  * create_page 
  * create_logo 
  * create_status_message 
  * create_info_box 
  * create_detail_box 
  * create_button_group 
  * create_secure_html_response 



fastmcp.utilities

# ui

Copy page

Copy page

# 

​

`fastmcp.utilities.ui`

Shared UI utilities for FastMCP HTML pages. This module provides reusable HTML/CSS components for OAuth callbacks, consent pages, and other user-facing interfaces.

## 

​

Functions

### 

​

`create_page` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/ui.py#L453)

Copy
    
    
    create_page(content: str, title: str = 'FastMCP', additional_styles: str = '', csp_policy: str = "default-src 'none'; style-src 'unsafe-inline'; img-src https: data:; base-uri 'none'") -> str
    

Create a complete HTML page with FastMCP styling. **Args:**

  * `content`: HTML content to place inside the page
  * `title`: Page title
  * `additional_styles`: Extra CSS to include
  * `csp_policy`: Content Security Policy header value

**Returns:**

  * Complete HTML page as string



### 

​

`create_logo` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/ui.py#L492)

Copy
    
    
    create_logo(icon_url: str | None = None, alt_text: str = 'FastMCP') -> str
    

Create logo HTML. **Args:**

  * `icon_url`: Optional custom icon URL. If not provided, uses the FastMCP logo.
  * `alt_text`: Alt text for the logo image.

**Returns:**

  * HTML for logo image tag.



### 

​

`create_status_message` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/ui.py#L507)

Copy
    
    
    create_status_message(message: str, is_success: bool = True) -> str
    

Create a status message with icon. **Args:**

  * `message`: Status message text
  * `is_success`: True for success (✓), False for error (✕)

**Returns:**

  * HTML for status message



### 

​

`create_info_box` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/ui.py#L530)

Copy
    
    
    create_info_box(content: str, is_error: bool = False, centered: bool = False, monospace: bool = False) -> str
    

Create an info box. **Args:**

  * `content`: HTML content for the info box
  * `is_error`: True for error styling, False for normal
  * `centered`: True to center the text, False for left-aligned
  * `monospace`: True to use gray monospace font styling instead of blue

**Returns:**

  * HTML for info box



### 

​

`create_detail_box` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/ui.py#L559)

Copy
    
    
    create_detail_box(rows: list[tuple[str, str]]) -> str
    

Create a detail box with key-value pairs. **Args:**

  * `rows`: List of (label, value) tuples

**Returns:**

  * HTML for detail box



### 

​

`create_button_group` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/ui.py#L582)

Copy
    
    
    create_button_group(buttons: list[tuple[str, str, str]]) -> str
    

Create a group of buttons. **Args:**

  * `buttons`: List of (text, value, css_class) tuples

**Returns:**

  * HTML for button group



### 

​

`create_secure_html_response` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/ui.py#L600)

Copy
    
    
    create_secure_html_response(html: str, status_code: int = 200) -> HTMLResponse
    

Create an HTMLResponse with security headers. Adds X-Frame-Options: DENY to prevent clickjacking attacks per MCP security best practices. **Args:**

  * `html`: HTML content to return
  * `status_code`: HTTP status code

**Returns:**

  * HTMLResponse with security headers



[typesPrevious](/python-sdk/fastmcp-utilities-types)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-cli-cli

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.cli

cli

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.cli.cli
  * Functions
  * with_argv 
  * version 
  * dev 
  * run 
  * inspect 
  * Show text summary
  * Output FastMCP format JSON to stdout
  * Save MCP protocol format to file (format required with -o)
  * Inspect from fastmcp.json configuration
  * prepare 



fastmcp.cli

# cli

Copy page

Copy page

# 

​

`fastmcp.cli.cli`

FastMCP CLI tools using Cyclopts.

## 

​

Functions

### 

​

`with_argv` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L67)

Copy
    
    
    with_argv(args: list[str] | None)
    

Temporarily replace sys.argv if args provided. This context manager is used at the CLI boundary to inject server arguments when needed, without mutating sys.argv deep in the source loading logic. Args are provided without the script name, so we preserve sys.argv[0] and replace the rest.

### 

​

`version` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L90)

Copy
    
    
    version()
    

Display version information and platform details.

### 

​

`dev` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L128)

Copy
    
    
    dev(server_spec: str | None = None) -> None
    

Run an MCP server with the MCP Inspector for development. **Args:**

  * `server_spec`: Python file to run, optionally with :object suffix, or None to auto-detect fastmcp.json



### 

​

`run` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L306)

Copy
    
    
    run(server_spec: str | None = None, *server_args: str) -> None
    

Run an MCP server or connect to a remote one. The server can be specified in several ways:

  1. Module approach: “server.py” - runs the module directly, looking for an object named ‘mcp’, ‘server’, or ‘app’
  2. Import approach: “server.py:app” - imports and runs the specified server object
  3. URL approach: “<http://server-url>” - connects to a remote server and creates a proxy
  4. MCPConfig file: “mcp.json” - runs as a proxy server for the MCP Servers in the MCPConfig file
  5. FastMCP config: “fastmcp.json” - runs server using FastMCP configuration
  6. No argument: looks for fastmcp.json in current directory

Server arguments can be passed after — : fastmcp run server.py — —config config.json —debug **Args:**

  * `server_spec`: Python file, object specification (file:obj), config file, URL, or None to auto-detect



### 

​

`inspect` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L540)

Copy
    
    
    inspect(server_spec: str | None = None) -> None
    

Inspect an MCP server and display information or generate a JSON report. This command analyzes an MCP server. Without flags, it displays a text summary. Use —format to output complete JSON data. **Examples:**

# 

​

Show text summary

fastmcp inspect server.py

# 

​

Output FastMCP format JSON to stdout

fastmcp inspect server.py —format fastmcp

# 

​

Save MCP protocol format to file (format required with -o)

fastmcp inspect server.py —format mcp -o manifest.json

# 

​

Inspect from fastmcp.json configuration

fastmcp inspect fastmcp.json fastmcp inspect # auto-detect fastmcp.json **Args:**

  * `server_spec`: Python file to inspect, optionally with :object suffix, or fastmcp.json



### 

​

`prepare` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/cli/cli.py#L785)

Copy
    
    
    prepare(config_path: Annotated[str | None, cyclopts.Parameter(help='Path to fastmcp.json configuration file')] = None, output_dir: Annotated[str | None, cyclopts.Parameter(help='Directory to create the persistent environment in')] = None, skip_source: Annotated[bool, cyclopts.Parameter(help='Skip source preparation (e.g., git clone)')] = False) -> None
    

Prepare a FastMCP project by creating a persistent uv environment. This command creates a persistent uv project with all dependencies installed:

  * Creates a pyproject.toml with dependencies from the config
  * Installs all Python packages into a .venv
  * Prepares the source (git clone, download, etc.) unless —skip-source

After running this command, you can use: fastmcp run <config> —project <output-dir> This is useful for:

  * CI/CD pipelines with separate build and run stages
  * Docker images where you prepare during build
  * Production deployments where you want fast startup times



[__init__Previous](/python-sdk/fastmcp-cli-__init__)[__init__Next](/python-sdk/fastmcp-cli-install-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-cli

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

cli

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.cli
  * Functions
  * is_already_in_uv_subprocess 
  * load_and_merge_config 
  * log_server_banner 



fastmcp.utilities

# cli

Copy page

Copy page

# 

​

`fastmcp.utilities.cli`

## 

​

Functions

### 

​

`is_already_in_uv_subprocess` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/cli.py#L27)

Copy
    
    
    is_already_in_uv_subprocess() -> bool
    

Check if we’re already running in a FastMCP uv subprocess.

### 

​

`load_and_merge_config` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/cli.py#L32)

Copy
    
    
    load_and_merge_config(server_spec: str | None, **cli_overrides) -> tuple[MCPServerConfig, str]
    

Load config from server_spec and apply CLI overrides. This consolidates the config parsing logic that was duplicated across run, inspect, and dev commands. **Args:**

  * `server_spec`: Python file, config file, URL, or None to auto-detect
  * `cli_overrides`: CLI arguments that override config values

**Returns:**

  * Tuple of (MCPServerConfig, resolved_server_spec)



### 

​

`log_server_banner` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/cli.py#L200)

Copy
    
    
    log_server_banner(server: FastMCP[Any], transport: Literal['stdio', 'http', 'sse', 'streamable-http']) -> None
    

Creates and logs a formatted banner with server information and logo. **Args:**

  * `transport`: The transport protocol being used
  * `server_name`: Optional server name to display
  * `host`: Host address (for HTTP transports)
  * `port`: Port number (for HTTP transports)
  * `path`: Server path (for HTTP transports)



[authPrevious](/python-sdk/fastmcp-utilities-auth)[componentsNext](/python-sdk/fastmcp-utilities-components)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-http

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

http

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server.http
  * Functions
  * set_http_request 
  * create_base_app 
  * create_sse_app 
  * create_streamable_http_app 
  * Classes
  * StreamableHTTPASGIApp 
  * StarletteWithLifespan 
  * lifespan 
  * RequestContextMiddleware 



fastmcp.server

# http

Copy page

Copy page

# 

​

`fastmcp.server.http`

## 

​

Functions

### 

​

`set_http_request` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L77)

Copy
    
    
    set_http_request(request: Request) -> Generator[Request, None, None]
    

### 

​

`create_base_app` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L101)

Copy
    
    
    create_base_app(routes: list[BaseRoute], middleware: list[Middleware], debug: bool = False, lifespan: Callable | None = None) -> StarletteWithLifespan
    

Create a base Starlette app with common middleware and routes. **Args:**

  * `routes`: List of routes to include in the app
  * `middleware`: List of middleware to include in the app
  * `debug`: Whether to enable debug mode
  * `lifespan`: Optional lifespan manager for the app

**Returns:**

  * A Starlette application



### 

​

`create_sse_app` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L129)

Copy
    
    
    create_sse_app(server: FastMCP[LifespanResultT], message_path: str, sse_path: str, auth: AuthProvider | None = None, debug: bool = False, routes: list[BaseRoute] | None = None, middleware: list[Middleware] | None = None) -> StarletteWithLifespan
    

Return an instance of the SSE server app. **Args:**

  * `server`: The FastMCP server instance
  * `message_path`: Path for SSE messages
  * `sse_path`: Path for SSE connections
  * `auth`: Optional authentication provider (AuthProvider)
  * `debug`: Whether to enable debug mode
  * `routes`: Optional list of custom routes
  * `middleware`: Optional list of middleware

Returns: A Starlette application with RequestContextMiddleware

### 

​

`create_streamable_http_app` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L255)

Copy
    
    
    create_streamable_http_app(server: FastMCP[LifespanResultT], streamable_http_path: str, event_store: EventStore | None = None, auth: AuthProvider | None = None, json_response: bool = False, stateless_http: bool = False, debug: bool = False, routes: list[BaseRoute] | None = None, middleware: list[Middleware] | None = None) -> StarletteWithLifespan
    

Return an instance of the StreamableHTTP server app. **Args:**

  * `server`: The FastMCP server instance
  * `streamable_http_path`: Path for StreamableHTTP connections
  * `event_store`: Optional event store for session management
  * `auth`: Optional authentication provider (AuthProvider)
  * `json_response`: Whether to use JSON response format
  * `stateless_http`: Whether to use stateless mode (new transport per request)
  * `debug`: Whether to enable debug mode
  * `routes`: Optional list of custom routes
  * `middleware`: Optional list of middleware

**Returns:**

  * A Starlette application with StreamableHTTP support



## 

​

Classes

### 

​

`StreamableHTTPASGIApp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L32)

ASGI application wrapper for Streamable HTTP server transport.

### 

​

`StarletteWithLifespan` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L70)

**Methods:**

#### 

​

`lifespan` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L72)

Copy
    
    
    lifespan(self) -> Lifespan[Starlette]
    

### 

​

`RequestContextMiddleware` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/http.py#L85)

Middleware that stores each request in a ContextVar

[elicitationPrevious](/python-sdk/fastmcp-server-elicitation)[low_levelNext](/python-sdk/fastmcp-server-low_level)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-http

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

http

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.http
  * Functions
  * find_available_port 



fastmcp.utilities

# http

Copy page

Copy page

# 

​

`fastmcp.utilities.http`

## 

​

Functions

### 

​

`find_available_port` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/http.py#L4)

Copy
    
    
    find_available_port() -> int
    

Find an available port by letting the OS assign one.

[exceptionsPrevious](/python-sdk/fastmcp-utilities-exceptions)[inspectNext](/python-sdk/fastmcp-utilities-inspect)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-tests

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

tests

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.tests
  * Functions
  * temporary_settings 
  * run_server_in_process 
  * run_server_async 
  * caplog_for_fastmcp 
  * Classes
  * HeadlessOAuth 
  * redirect_handler 
  * callback_handler 



fastmcp.utilities

# tests

Copy page

Copy page

# 

​

`fastmcp.utilities.tests`

## 

​

Functions

### 

​

`temporary_settings` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/tests.py#L25)

Copy
    
    
    temporary_settings(**kwargs: Any)
    

Temporarily override FastMCP setting values. **Args:**

  * `**kwargs`: The settings to override, including nested settings.



### 

​

`run_server_in_process` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/tests.py#L76)

Copy
    
    
    run_server_in_process(server_fn: Callable[..., None], *args: Any, **kwargs: Any) -> Generator[str, None, None]
    

Context manager that runs a FastMCP server in a separate process and returns the server URL. When the context manager is exited, the server process is killed. **Args:**

  * `server_fn`: The function that runs a FastMCP server. FastMCP servers are not pickleable, so we need a function that creates and runs one.
  * `*args`: Arguments to pass to the server function.
  * `provide_host_and_port`: Whether to provide the host and port to the server function as kwargs.
  * `host`: Host to bind the server to (default: “127.0.0.1”).
  * `port`: Port to bind the server to (default: find available port).
  * `**kwargs`: Keyword arguments to pass to the server function.

**Returns:**

  * The server URL.



### 

​

`run_server_async` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/tests.py#L144)

Copy
    
    
    run_server_async(server: FastMCP, port: int | None = None, transport: Literal['http', 'streamable-http', 'sse'] = 'http', path: str = '/mcp', host: str = '127.0.0.1') -> AsyncGenerator[str, None]
    

Start a FastMCP server as an asyncio task for in-process async testing. This is the recommended way to test FastMCP servers. It runs the server as an async task in the same process, eliminating subprocess coordination, sleeps, and cleanup issues. **Args:**

  * `server`: FastMCP server instance
  * `port`: Port to bind to (default: find available port)
  * `transport`: Transport type (“http”, “streamable-http”, or “sse”)
  * `path`: URL path for the server (default: “/mcp”)
  * `host`: Host to bind to (default: “127.0.0.1”)



### 

​

`caplog_for_fastmcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/tests.py#L224)

Copy
    
    
    caplog_for_fastmcp(caplog)
    

Context manager to capture logs from FastMCP loggers even when propagation is disabled.

## 

​

Classes

### 

​

`HeadlessOAuth` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/tests.py#L235)

OAuth provider that bypasses browser interaction for testing. This simulates the complete OAuth flow programmatically by making HTTP requests instead of opening a browser and running a callback server. Useful for automated testing. **Methods:**

#### 

​

`redirect_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/tests.py#L248)

Copy
    
    
    redirect_handler(self, authorization_url: str) -> None
    

Make HTTP request to authorization URL and store response for callback handler.

#### 

​

`callback_handler` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/tests.py#L254)

Copy
    
    
    callback_handler(self) -> tuple[str, str | None]
    

Parse stored response and return (auth_code, state).

[openapiPrevious](/python-sdk/fastmcp-utilities-openapi)[typesNext](/python-sdk/fastmcp-utilities-types)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-openapi

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

openapi

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server.openapi
  * Classes
  * MCPType 
  * RouteType 
  * RouteMap 
  * OpenAPITool 
  * run 
  * OpenAPIResource 
  * read 
  * OpenAPIResourceTemplate 
  * create_resource 
  * FastMCPOpenAPI 



fastmcp.server

# openapi

Copy page

Copy page

# 

​

`fastmcp.server.openapi`

FastMCP server implementation for OpenAPI integration.

## 

​

Classes

### 

​

`MCPType` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L78)

Type of FastMCP component to create from a route.

### 

​

`RouteType` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L97)

Deprecated: Use MCPType instead. This enum is kept for backward compatibility and will be removed in a future version.

### 

​

`RouteMap` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L111)

Mapping configuration for HTTP routes to FastMCP component types.

### 

​

`OpenAPITool` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L229)

Tool implementation for OpenAPI endpoints. **Methods:**

#### 

​

`run` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L262)

Copy
    
    
    run(self, arguments: dict[str, Any]) -> ToolResult
    

Execute the HTTP request based on the route configuration.

### 

​

`OpenAPIResource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L523)

Resource implementation for OpenAPI endpoints. **Methods:**

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L554)

Copy
    
    
    read(self) -> str | bytes
    

Fetch the resource data by making an HTTP request.

### 

​

`OpenAPIResourceTemplate` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L644)

Resource template implementation for OpenAPI endpoints. **Methods:**

#### 

​

`create_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L675)

Copy
    
    
    create_resource(self, uri: str, params: dict[str, Any], context: Context | None = None) -> Resource
    

Create a resource with the given parameters.

### 

​

`FastMCPOpenAPI` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/openapi.py#L700)

FastMCP server implementation that creates components from an OpenAPI schema. This class parses an OpenAPI specification and creates appropriate FastMCP components (Tools, Resources, ResourceTemplates) based on route mappings.

[tool_injectionPrevious](/python-sdk/fastmcp-server-middleware-tool_injection)[proxyNext](/python-sdk/fastmcp-server-proxy)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-context

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

context

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server.context
  * Functions
  * set_context 
  * Classes
  * LogData 
  * Context 
  * fastmcp 
  * request_context 
  * report_progress 
  * list_resources 
  * list_prompts 
  * get_prompt 
  * read_resource 
  * log 
  * client_id 
  * request_id 
  * session_id 
  * session 
  * debug 
  * info 
  * warning 
  * error 
  * list_roots 
  * send_tool_list_changed 
  * send_resource_list_changed 
  * send_prompt_list_changed 
  * sample 
  * elicit 
  * elicit 
  * elicit 
  * elicit 
  * get_http_request 
  * set_state 
  * get_state 



fastmcp.server

# context

Copy page

Copy page

# 

​

`fastmcp.server.context`

## 

​

Functions

### 

​

`set_context` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L94)

Copy
    
    
    set_context(context: Context) -> Generator[Context, None, None]
    

## 

​

Classes

### 

​

`LogData` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L70)

Data object for passing log arguments to client-side handlers. This provides an interface to match the Python standard library logging, for compatibility with structured logging.

### 

​

`Context` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L103)

Context object providing access to MCP capabilities. This provides a cleaner interface to MCP’s RequestContext functionality. It gets injected into tool and resource functions that request it via type hints. To use context in a tool function, add a parameter with the Context type annotation:

Copy
    
    
    @server.tool
    async def my_tool(x: int, ctx: Context) -> str:
        # Log messages to the client
        await ctx.info(f"Processing {x}")
        await ctx.debug("Debug info")
        await ctx.warning("Warning message")
        await ctx.error("Error message")
    
        # Report progress
        await ctx.report_progress(50, 100, "Processing")
    
        # Access resources
        data = await ctx.read_resource("resource://data")
    
        # Get request info
        request_id = ctx.request_id
        client_id = ctx.client_id
    
        # Manage state across the request
        ctx.set_state("key", "value")
        value = ctx.get_state("key")
    
        return str(x)
    

State Management: Context objects maintain a state dictionary that can be used to store and share data across middleware and tool calls within a request. When a new context is created (nested contexts), it inherits a copy of its parent’s state, ensuring that modifications in child contexts don’t affect parent contexts. The context parameter name can be anything as long as it’s annotated with Context. The context is optional - tools that don’t need it can omit the parameter. **Methods:**

#### 

​

`fastmcp` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L155)

Copy
    
    
    fastmcp(self) -> FastMCP
    

Get the FastMCP instance.

#### 

​

`request_context` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L184)

Copy
    
    
    request_context(self) -> RequestContext[ServerSession, Any, Request] | None
    

Access to the underlying request context. Returns None when the MCP session has not been established yet. Returns the full RequestContext once the MCP session is available. For HTTP request access in middleware, use `get_http_request()` from fastmcp.server.dependencies, which works whether or not the MCP session is available. Example in middleware:

Copy
    
    
    async def on_request(self, context, call_next):
        ctx = context.fastmcp_context
        if ctx.request_context:
            # MCP session available - can access session_id, request_id, etc.
            session_id = ctx.session_id
        else:
            # MCP session not available yet - use HTTP helpers
            from fastmcp.server.dependencies import get_http_request
            request = get_http_request()
        return await call_next(context)
    

#### 

​

`report_progress` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L212)

Copy
    
    
    report_progress(self, progress: float, total: float | None = None, message: str | None = None) -> None
    

Report progress for the current operation. **Args:**

  * `progress`: Current progress value e.g. 24
  * `total`: Optional total value e.g. 100



#### 

​

`list_resources` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L239)

Copy
    
    
    list_resources(self) -> list[MCPResource]
    

List all available resources from the server. **Returns:**

  * List of Resource objects available on the server



#### 

​

`list_prompts` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L247)

Copy
    
    
    list_prompts(self) -> list[MCPPrompt]
    

List all available prompts from the server. **Returns:**

  * List of Prompt objects available on the server



#### 

​

`get_prompt` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L255)

Copy
    
    
    get_prompt(self, name: str, arguments: dict[str, Any] | None = None) -> GetPromptResult
    

Get a prompt by name with optional arguments. **Args:**

  * `name`: The name of the prompt to get
  * `arguments`: Optional arguments to pass to the prompt

**Returns:**

  * The prompt result



#### 

​

`read_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L269)

Copy
    
    
    read_resource(self, uri: str | AnyUrl) -> list[ReadResourceContents]
    

Read a resource by URI. **Args:**

  * `uri`: Resource URI to read

**Returns:**

  * The resource content as either text or bytes



#### 

​

`log` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L280)

Copy
    
    
    log(self, message: str, level: LoggingLevel | None = None, logger_name: str | None = None, extra: Mapping[str, Any] | None = None) -> None
    

Send a log message to the client. Messages sent to Clients are also logged to the `fastmcp.server.context.to_client` logger with a level of `DEBUG`. **Args:**

  * `message`: Log message
  * `level`: Optional log level. One of “debug”, “info”, “notice”, “warning”, “error”, “critical”, “alert”, or “emergency”. Default is “info”.
  * `logger_name`: Optional logger name
  * `extra`: Optional mapping for additional arguments



#### 

​

`client_id` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L309)

Copy
    
    
    client_id(self) -> str | None
    

Get the client ID if available.

#### 

​

`request_id` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L318)

Copy
    
    
    request_id(self) -> str
    

Get the unique ID for this request. Raises RuntimeError if MCP request context is not available.

#### 

​

`session_id` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L331)

Copy
    
    
    session_id(self) -> str
    

Get the MCP session ID for ALL transports. Returns the session ID that can be used as a key for session-based data storage (e.g., Redis) to share data between tool calls within the same client session. **Returns:**

  * The session ID for StreamableHTTP transports, or a generated ID
  * for other transports.



#### 

​

`session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L383)

Copy
    
    
    session(self) -> ServerSession
    

Access to the underlying session for advanced usage. Raises RuntimeError if MCP request context is not available.

#### 

​

`debug` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L396)

Copy
    
    
    debug(self, message: str, logger_name: str | None = None, extra: Mapping[str, Any] | None = None) -> None
    

Send a `DEBUG`-level message to the connected MCP Client. Messages sent to Clients are also logged to the `fastmcp.server.context.to_client` logger with a level of `DEBUG`.

#### 

​

`info` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L412)

Copy
    
    
    info(self, message: str, logger_name: str | None = None, extra: Mapping[str, Any] | None = None) -> None
    

Send a `INFO`-level message to the connected MCP Client. Messages sent to Clients are also logged to the `fastmcp.server.context.to_client` logger with a level of `DEBUG`.

#### 

​

`warning` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L428)

Copy
    
    
    warning(self, message: str, logger_name: str | None = None, extra: Mapping[str, Any] | None = None) -> None
    

Send a `WARNING`-level message to the connected MCP Client. Messages sent to Clients are also logged to the `fastmcp.server.context.to_client` logger with a level of `DEBUG`.

#### 

​

`error` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L444)

Copy
    
    
    error(self, message: str, logger_name: str | None = None, extra: Mapping[str, Any] | None = None) -> None
    

Send a `ERROR`-level message to the connected MCP Client. Messages sent to Clients are also logged to the `fastmcp.server.context.to_client` logger with a level of `DEBUG`.

#### 

​

`list_roots` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L460)

Copy
    
    
    list_roots(self) -> list[Root]
    

List the roots available to the server, as indicated by the client.

#### 

​

`send_tool_list_changed` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L465)

Copy
    
    
    send_tool_list_changed(self) -> None
    

Send a tool list changed notification to the client.

#### 

​

`send_resource_list_changed` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L469)

Copy
    
    
    send_resource_list_changed(self) -> None
    

Send a resource list changed notification to the client.

#### 

​

`send_prompt_list_changed` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L473)

Copy
    
    
    send_prompt_list_changed(self) -> None
    

Send a prompt list changed notification to the client.

#### 

​

`sample` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L477)

Copy
    
    
    sample(self, messages: str | Sequence[str | SamplingMessage], system_prompt: str | None = None, include_context: IncludeContext | None = None, temperature: float | None = None, max_tokens: int | None = None, model_preferences: ModelPreferences | str | list[str] | None = None) -> TextContent | ImageContent | AudioContent
    

Send a sampling request to the client and await the response. Call this method at any time to have the server request an LLM completion from the client. The client must be appropriately configured, or the request will error.

#### 

​

`elicit` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L561)

Copy
    
    
    elicit(self, message: str, response_type: None) -> AcceptedElicitation[dict[str, Any]] | DeclinedElicitation | CancelledElicitation
    

#### 

​

`elicit` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L573)

Copy
    
    
    elicit(self, message: str, response_type: type[T]) -> AcceptedElicitation[T] | DeclinedElicitation | CancelledElicitation
    

#### 

​

`elicit` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L583)

Copy
    
    
    elicit(self, message: str, response_type: list[str]) -> AcceptedElicitation[str] | DeclinedElicitation | CancelledElicitation
    

#### 

​

`elicit` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L592)

Copy
    
    
    elicit(self, message: str, response_type: type[T] | list[str] | None = None) -> AcceptedElicitation[T] | AcceptedElicitation[dict[str, Any]] | AcceptedElicitation[str] | DeclinedElicitation | CancelledElicitation
    

Send an elicitation request to the client and await the response. Call this method at any time to request additional information from the user through the client. The client must support elicitation, or the request will error. Note that the MCP protocol only supports simple object schemas with primitive types. You can provide a dataclass, TypedDict, or BaseModel to comply. If you provide a primitive type, an object schema with a single “value” field will be generated for the MCP interaction and automatically deconstructed into the primitive type upon response. If the response_type is None, the generated schema will be that of an empty object in order to comply with the MCP protocol requirements. Clients must send an empty object ("")in response. **Args:**

  * `message`: A human-readable message explaining what information is needed
  * `response_type`: The type of the response, which should be a primitive type or dataclass or BaseModel. If it is a primitive type, an object schema with a single “value” field will be generated.



#### 

​

`get_http_request` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L683)

Copy
    
    
    get_http_request(self) -> Request
    

Get the active starlette request.

#### 

​

`set_state` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L698)

Copy
    
    
    set_state(self, key: str, value: Any) -> None
    

Set a value in the context state.

#### 

​

`get_state` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/server/context.py#L702)

Copy
    
    
    get_state(self, key: str) -> Any
    

Get a value from the context state. Returns None if the key is not found.

[redirect_validationPrevious](/python-sdk/fastmcp-server-auth-redirect_validation)[dependenciesNext](/python-sdk/fastmcp-server-dependencies)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-__init__

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

__init__

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities



fastmcp.utilities

# __init__

Copy page

Copy page

# 

​

`fastmcp.utilities`

FastMCP utility modules.

[tool_transformPrevious](/python-sdk/fastmcp-tools-tool_transform)[authNext](/python-sdk/fastmcp-utilities-auth)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-resources-template

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.resources

template

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.resources.template
  * Functions
  * extract_query_params 
  * build_regex 
  * match_uri_template 
  * Classes
  * ResourceTemplate 
  * enable 
  * disable 
  * from_function 
  * set_default_mime_type 
  * matches 
  * read 
  * create_resource 
  * to_mcp_template 
  * from_mcp_template 
  * key 
  * FunctionResourceTemplate 
  * read 
  * from_function 



fastmcp.resources

# template

Copy page

Copy page

# 

​

`fastmcp.resources.template`

Resource template functionality.

## 

​

Functions

### 

​

`extract_query_params` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L29)

Copy
    
    
    extract_query_params(uri_template: str) -> set[str]
    

Extract query parameter names from RFC 6570 `{?param1,param2}` syntax.

### 

​

`build_regex` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L37)

Copy
    
    
    build_regex(template: str) -> re.Pattern
    

Build regex pattern for URI template, handling RFC 6570 syntax. Supports:

  * `{var}` \- simple path parameter
  * `{var*}` \- wildcard path parameter (captures multiple segments)
  * `{?var1,var2}` \- query parameters (ignored in path matching)



### 

​

`match_uri_template` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L63)

Copy
    
    
    match_uri_template(uri: str, uri_template: str) -> dict[str, str] | None
    

Match URI against template and extract both path and query parameters. Supports RFC 6570 URI templates:

  * Path params: `{var}`, `{var*}`
  * Query params: `{?var1,var2}`



## 

​

Classes

### 

​

`ResourceTemplate` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L94)

A template for dynamically creating resources. **Methods:**

#### 

​

`enable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L113)

Copy
    
    
    enable(self) -> None
    

#### 

​

`disable` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L121)

Copy
    
    
    disable(self) -> None
    

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L130)

Copy
    
    
    from_function(fn: Callable[..., Any], uri_template: str, name: str | None = None, title: str | None = None, description: str | None = None, icons: list[Icon] | None = None, mime_type: str | None = None, tags: set[str] | None = None, enabled: bool | None = None, annotations: Annotations | None = None, meta: dict[str, Any] | None = None) -> FunctionResourceTemplate
    

#### 

​

`set_default_mime_type` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L159)

Copy
    
    
    set_default_mime_type(cls, mime_type: str | None) -> str
    

Set default MIME type if not provided.

#### 

​

`matches` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L165)

Copy
    
    
    matches(self, uri: str) -> dict[str, Any] | None
    

Check if URI matches template and extract parameters.

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L169)

Copy
    
    
    read(self, arguments: dict[str, Any]) -> str | bytes
    

Read the resource content.

#### 

​

`create_resource` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L175)

Copy
    
    
    create_resource(self, uri: str, params: dict[str, Any]) -> Resource
    

Create a resource from the template with the given parameters.

#### 

​

`to_mcp_template` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L193)

Copy
    
    
    to_mcp_template(self, **overrides: Any) -> MCPResourceTemplate
    

Convert the resource template to an MCPResourceTemplate.

#### 

​

`from_mcp_template` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L215)

Copy
    
    
    from_mcp_template(cls, mcp_template: MCPResourceTemplate) -> ResourceTemplate
    

Creates a FastMCP ResourceTemplate from a raw MCP ResourceTemplate object.

#### 

​

`key` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L228)

Copy
    
    
    key(self) -> str
    

The key of the component. This is used for internal bookkeeping and may reflect e.g. prefixes or other identifiers. You should not depend on keys having a certain value, as the same tool loaded from different hierarchies of servers may have different keys.

### 

​

`FunctionResourceTemplate` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L238)

A template for dynamically creating resources. **Methods:**

#### 

​

`read` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L243)

Copy
    
    
    read(self, arguments: dict[str, Any]) -> str | bytes
    

Read the resource content.

#### 

​

`from_function` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/resources/template.py#L284)

Copy
    
    
    from_function(cls, fn: Callable[..., Any], uri_template: str, name: str | None = None, title: str | None = None, description: str | None = None, icons: list[Icon] | None = None, mime_type: str | None = None, tags: set[str] | None = None, enabled: bool | None = None, annotations: Annotations | None = None, meta: dict[str, Any] | None = None) -> FunctionResourceTemplate
    

Create a template from a function.

[resource_managerPrevious](/python-sdk/fastmcp-resources-resource_manager)[typesNext](/python-sdk/fastmcp-resources-types)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-utilities-auth

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.utilities

auth

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.utilities.auth
  * Functions
  * parse_scopes 



fastmcp.utilities

# auth

Copy page

Copy page

# 

​

`fastmcp.utilities.auth`

Authentication utility helpers.

## 

​

Functions

### 

​

`parse_scopes` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/utilities/auth.py#L9)

Copy
    
    
    parse_scopes(value: Any) -> list[str] | None
    

Parse scopes from environment variables or settings values. Accepts either a JSON array string, a comma- or space-separated string, a list of strings, or `None`. Returns a list of scopes or `None` if no value is provided.

[__init__Previous](/python-sdk/fastmcp-utilities-__init__)[cliNext](/python-sdk/fastmcp-utilities-cli)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-client-transports

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.client

transports

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.client.transports
  * Functions
  * infer_transport 
  * Classes
  * SessionKwargs 
  * ClientTransport 
  * connect_session 
  * close 
  * WSTransport 
  * connect_session 
  * SSETransport 
  * connect_session 
  * StreamableHttpTransport 
  * connect_session 
  * StdioTransport 
  * connect_session 
  * connect 
  * disconnect 
  * close 
  * PythonStdioTransport 
  * FastMCPStdioTransport 
  * NodeStdioTransport 
  * UvStdioTransport 
  * UvxStdioTransport 
  * NpxStdioTransport 
  * FastMCPTransport 
  * connect_session 
  * MCPConfigTransport 
  * connect_session 
  * close 



fastmcp.client

# transports

Copy page

Copy page

# 

​

`fastmcp.client.transports`

## 

​

Functions

### 

​

`infer_transport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L1026)

Copy
    
    
    infer_transport(transport: ClientTransport | FastMCP | FastMCP1Server | AnyUrl | Path | MCPConfig | dict[str, Any] | str) -> ClientTransport
    

Infer the appropriate transport type from the given transport argument. This function attempts to infer the correct transport type from the provided argument, handling various input types and converting them to the appropriate ClientTransport subclass. The function supports these input types:

  * ClientTransport: Used directly without modification
  * FastMCP or FastMCP1Server: Creates an in-memory FastMCPTransport
  * Path or str (file path): Creates PythonStdioTransport (.py) or NodeStdioTransport (.js)
  * AnyUrl or str (URL): Creates StreamableHttpTransport (default) or SSETransport (for /sse endpoints)
  * MCPConfig or dict: Creates MCPConfigTransport, potentially connecting to multiple servers

For HTTP URLs, they are assumed to be Streamable HTTP URLs unless they end in `/sse`. For MCPConfig with multiple servers, a composite client is created where each server is mounted with its name as prefix. This allows accessing tools and resources from multiple servers through a single unified client interface, using naming patterns like `servername_toolname` for tools and `protocol://servername/path` for resources. If the MCPConfig contains only one server, a direct connection is established without prefixing. **Examples:**

Copy
    
    
    # Connect to a local Python script
    transport = infer_transport("my_script.py")
    
    # Connect to a remote server via HTTP
    transport = infer_transport("http://example.com/mcp")
    
    # Connect to multiple servers using MCPConfig
    config = {
        "mcpServers": {
            "weather": {"url": "http://weather.example.com/mcp"},
            "calendar": {"url": "http://calendar.example.com/mcp"}
        }
    }
    transport = infer_transport(config)
    

## 

​

Classes

### 

​

`SessionKwargs` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L63)

Keyword arguments for the MCP ClientSession constructor.

### 

​

`ClientTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L75)

Abstract base class for different MCP client transport mechanisms. A Transport is responsible for establishing and managing connections to an MCP server, and providing a ClientSession within an async context. **Methods:**

#### 

​

`connect_session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L86)

Copy
    
    
    connect_session(self, **session_kwargs: Unpack[SessionKwargs]) -> AsyncIterator[ClientSession]
    

Establishes a connection and yields an active ClientSession. The ClientSession is _not_ expected to be initialized in this context manager. The session is guaranteed to be valid only within the scope of the async context manager. Connection setup and teardown are handled within this context. **Args:**

  * `**session_kwargs`: Keyword arguments to pass to the ClientSession constructor (e.g., callbacks, timeouts).



#### 

​

`close` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L112)

Copy
    
    
    close(self)
    

Close the transport.

### 

​

`WSTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L120)

Transport implementation that connects to an MCP server via WebSockets. **Methods:**

#### 

​

`connect_session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L138)

Copy
    
    
    connect_session(self, **session_kwargs: Unpack[SessionKwargs]) -> AsyncIterator[ClientSession]
    

### 

​

`SSETransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L159)

Transport implementation that connects to an MCP server via Server-Sent Events. **Methods:**

#### 

​

`connect_session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L195)

Copy
    
    
    connect_session(self, **session_kwargs: Unpack[SessionKwargs]) -> AsyncIterator[ClientSession]
    

### 

​

`StreamableHttpTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L229)

Transport implementation that connects to an MCP server via Streamable HTTP Requests. **Methods:**

#### 

​

`connect_session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L265)

Copy
    
    
    connect_session(self, **session_kwargs: Unpack[SessionKwargs]) -> AsyncIterator[ClientSession]
    

### 

​

`StdioTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L300)

Base transport for connecting to an MCP server via subprocess with stdio. This is a base class that can be subclassed for specific command-based transports like Python, Node, Uvx, etc. **Methods:**

#### 

​

`connect_session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L350)

Copy
    
    
    connect_session(self, **session_kwargs: Unpack[SessionKwargs]) -> AsyncIterator[ClientSession]
    

#### 

​

`connect` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L362)

Copy
    
    
    connect(self, **session_kwargs: Unpack[SessionKwargs]) -> ClientSession | None
    

#### 

​

`disconnect` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L397)

Copy
    
    
    disconnect(self)
    

#### 

​

`close` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L412)

Copy
    
    
    close(self)
    

### 

​

`PythonStdioTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L482)

Transport for running Python scripts.

### 

​

`FastMCPStdioTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L535)

Transport for running FastMCP servers using the FastMCP CLI.

### 

​

`NodeStdioTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L564)

Transport for running Node.js scripts.

### 

​

`UvStdioTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L617)

Transport for running commands via the uv tool.

### 

​

`UvxStdioTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L696)

Transport for running commands via the uvx tool.

### 

​

`NpxStdioTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L761)

Transport for running commands via the npx tool.

### 

​

`FastMCPTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L823)

In-memory transport for FastMCP servers. This transport connects directly to a FastMCP server instance in the same Python process. It works with both FastMCP 2.x servers and FastMCP 1.0 servers from the low-level MCP SDK. This is particularly useful for unit tests or scenarios where client and server run in the same runtime. **Methods:**

#### 

​

`connect_session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L842)

Copy
    
    
    connect_session(self, **session_kwargs: Unpack[SessionKwargs]) -> AsyncIterator[ClientSession]
    

### 

​

`MCPConfigTransport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L892)

Transport for connecting to one or more MCP servers defined in an MCPConfig. This transport provides a unified interface to multiple MCP servers defined in an MCPConfig object or dictionary matching the MCPConfig schema. It supports two key scenarios:

  1. If the MCPConfig contains exactly one server, it creates a direct transport to that server.
  2. If the MCPConfig contains multiple servers, it creates a composite client by mounting all servers on a single FastMCP instance, with each server’s name, by default, used as its mounting prefix.

In the multi-server case, tools are accessible with the prefix pattern `{server_name}_{tool_name}` and resources with the pattern `protocol://{server_name}/path/to/resource`. This is particularly useful for creating clients that need to interact with multiple specialized MCP servers through a single interface, simplifying client code. **Examples:**

Copy
    
    
    from fastmcp import Client
    from fastmcp.utilities.mcp_config import MCPConfig
    
    # Create a config with multiple servers
    config = {
        "mcpServers": {
            "weather": {
                "url": "https://weather-api.example.com/mcp",
                "transport": "http"
            },
            "calendar": {
                "url": "https://calendar-api.example.com/mcp",
                "transport": "http"
            }
        }
    }
    
    # Create a client with the config
    client = Client(config)
    
    async with client:
        # Access tools with prefixes
        weather = await client.call_tool("weather_get_forecast", {"city": "London"})
        events = await client.call_tool("calendar_list_events", {"date": "2023-06-01"})
    
        # Access resources with prefixed URIs
        icons = await client.read_resource("weather://weather/icons/sunny")
    

**Methods:**

#### 

​

`connect_session` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L974)

Copy
    
    
    connect_session(self, **session_kwargs: Unpack[SessionKwargs]) -> AsyncIterator[ClientSession]
    

#### 

​

`close` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/client/transports.py#L980)

Copy
    
    
    close(self)
    

[samplingPrevious](/python-sdk/fastmcp-client-sampling)[__init__Next](/python-sdk/fastmcp-prompts-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-tools-__init__

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.tools

__init__

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.tools



fastmcp.tools

# __init__

Copy page

Copy page

# 

​

`fastmcp.tools`

_This module is empty or contains only private/internal implementations._

[ serverPrevious](/python-sdk/fastmcp-server-server)[toolNext](/python-sdk/fastmcp-tools-tool)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-mcp_config

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

mcp_config

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.mcp_config
  * Functions
  * infer_transport_type_from_url 
  * update_config_file 
  * Classes
  * StdioMCPServer 
  * to_transport 
  * TransformingStdioMCPServer 
  * RemoteMCPServer 
  * to_transport 
  * TransformingRemoteMCPServer 
  * MCPConfig 
  * wrap_servers_at_root 
  * add_server 
  * from_dict 
  * to_dict 
  * write_to_file 
  * from_file 
  * CanonicalMCPConfig 
  * add_server 



# mcp_config

Copy page

Copy page

# 

​

`fastmcp.mcp_config`

Canonical MCP Configuration Format. This module defines the standard configuration format for Model Context Protocol (MCP) servers. It provides a client-agnostic, extensible format that can be used across all MCP implementations. The configuration format supports both stdio and remote (HTTP/SSE) transports, with comprehensive field definitions for server metadata, authentication, and execution parameters. Example configuration:

Copy
    
    
    {
        "mcpServers": {
            "my-server": {
                "command": "npx",
                "args": ["-y", "@my/mcp-server"],
                "env": {"API_KEY": "secret"},
                "timeout": 30000,
                "description": "My MCP server"
            }
        }
    }
    

## 

​

Functions

### 

​

`infer_transport_type_from_url` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L56)

Copy
    
    
    infer_transport_type_from_url(url: str | AnyUrl) -> Literal['http', 'sse']
    

Infer the appropriate transport type from the given URL.

### 

​

`update_config_file` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L312)

Copy
    
    
    update_config_file(file_path: Path, server_name: str, server_config: CanonicalMCPServerTypes) -> None
    

Update an MCP configuration file from a server object, preserving existing fields. This is used for updating the mcpServer configurations of third-party tools so we do not worry about transforming server objects here.

## 

​

Classes

### 

​

`StdioMCPServer` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L126)

MCP server configuration for stdio transport. This is the canonical configuration format for MCP servers using stdio transport. **Methods:**

#### 

​

`to_transport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L156)

Copy
    
    
    to_transport(self) -> StdioTransport
    

### 

​

`TransformingStdioMCPServer` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L167)

A Stdio server with tool transforms.

### 

​

`RemoteMCPServer` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L171)

MCP server configuration for HTTP/SSE transport. This is the canonical configuration format for MCP servers using remote transports. **Methods:**

#### 

​

`to_transport` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L207)

Copy
    
    
    to_transport(self) -> StreamableHttpTransport | SSETransport
    

### 

​

`TransformingRemoteMCPServer` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L232)

A Remote server with tool transforms.

### 

​

`MCPConfig` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L243)

A configuration object for MCP Servers that conforms to the canonical MCP configuration format while adding additional fields for enabling FastMCP-specific features like tool transformations and filtering by tags. For an MCPConfig that is strictly canonical, see the `CanonicalMCPConfig` class. **Methods:**

#### 

​

`wrap_servers_at_root` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L257)

Copy
    
    
    wrap_servers_at_root(cls, values: dict[str, Any]) -> dict[str, Any]
    

If there’s no mcpServers key but there are server configs at root, wrap them.

#### 

​

`add_server` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L270)

Copy
    
    
    add_server(self, name: str, server: MCPServerTypes) -> None
    

Add or update a server in the configuration.

#### 

​

`from_dict` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L275)

Copy
    
    
    from_dict(cls, config: dict[str, Any]) -> Self
    

Parse MCP configuration from dictionary format.

#### 

​

`to_dict` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L279)

Copy
    
    
    to_dict(self) -> dict[str, Any]
    

Convert MCPConfig to dictionary format, preserving all fields.

#### 

​

`write_to_file` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L283)

Copy
    
    
    write_to_file(self, file_path: Path) -> None
    

Write configuration to JSON file.

#### 

​

`from_file` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L289)

Copy
    
    
    from_file(cls, file_path: Path) -> Self
    

Load configuration from JSON file.

### 

​

`CanonicalMCPConfig` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L297)

Canonical MCP configuration format. This defines the standard configuration format for Model Context Protocol servers. The format is designed to be client-agnostic and extensible for future use cases. **Methods:**

#### 

​

`add_server` [](https://github.com/jlowin/fastmcp/blob/main/src/fastmcp/mcp_config.py#L307)

Copy
    
    
    add_server(self, name: str, server: CanonicalMCPServerTypes) -> None
    

Add or update a server in the configuration.

[exceptionsPrevious](/python-sdk/fastmcp-exceptions)[settingsNext](/python-sdk/fastmcp-settings)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

# Page: https://gofastmcp.com/python-sdk/fastmcp-server-__init__

Skip to main content

Join the [FastMCP community](https://discord.gg/uu8dJCgttd)!

[FastMCP home page](/)

  * [FastMCP Cloud](https://fastmcp.cloud)
  * [Discord](https://discord.gg/uu8dJCgttd)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)
  * [jlowin/fastmcp](https://github.com/jlowin/fastmcp)



Search...

Navigation

fastmcp.server

__init__

Search the docs...

⌘K

SDK Reference

  * [Python SDK](/python-sdk/fastmcp-exceptions)


  * [exceptions](/python-sdk/fastmcp-exceptions)


  * [mcp_config](/python-sdk/fastmcp-mcp_config)


  * [settings](/python-sdk/fastmcp-settings)



##### fastmcp.cli

  * [__init__](/python-sdk/fastmcp-cli-__init__)
  * [cli](/python-sdk/fastmcp-cli-cli)
  * install

  * [run](/python-sdk/fastmcp-cli-run)



##### fastmcp.client

  * [__init__](/python-sdk/fastmcp-client-__init__)
  * auth

  * [client](/python-sdk/fastmcp-client-client)
  * [elicitation](/python-sdk/fastmcp-client-elicitation)
  * [logging](/python-sdk/fastmcp-client-logging)
  * [messages](/python-sdk/fastmcp-client-messages)
  * [oauth_callback](/python-sdk/fastmcp-client-oauth_callback)
  * [progress](/python-sdk/fastmcp-client-progress)
  * [roots](/python-sdk/fastmcp-client-roots)
  * [sampling](/python-sdk/fastmcp-client-sampling)
  * [transports](/python-sdk/fastmcp-client-transports)



##### fastmcp.prompts

  * [__init__](/python-sdk/fastmcp-prompts-__init__)
  * [prompt](/python-sdk/fastmcp-prompts-prompt)
  * [prompt_manager](/python-sdk/fastmcp-prompts-prompt_manager)



##### fastmcp.resources

  * [__init__](/python-sdk/fastmcp-resources-__init__)
  * [resource](/python-sdk/fastmcp-resources-resource)
  * [resource_manager](/python-sdk/fastmcp-resources-resource_manager)
  * [template](/python-sdk/fastmcp-resources-template)
  * [types](/python-sdk/fastmcp-resources-types)



##### fastmcp.server

  * [__init__](/python-sdk/fastmcp-server-__init__)
  * auth

  * [context](/python-sdk/fastmcp-server-context)
  * [dependencies](/python-sdk/fastmcp-server-dependencies)
  * [elicitation](/python-sdk/fastmcp-server-elicitation)
  * [http](/python-sdk/fastmcp-server-http)
  * [low_level](/python-sdk/fastmcp-server-low_level)
  * middleware

  * [openapi](/python-sdk/fastmcp-server-openapi)
  * [proxy](/python-sdk/fastmcp-server-proxy)
  * [server](/python-sdk/fastmcp-server-server)



##### fastmcp.tools

  * [__init__](/python-sdk/fastmcp-tools-__init__)
  * [tool](/python-sdk/fastmcp-tools-tool)
  * [tool_manager](/python-sdk/fastmcp-tools-tool_manager)
  * [tool_transform](/python-sdk/fastmcp-tools-tool_transform)



##### fastmcp.utilities

  * [__init__](/python-sdk/fastmcp-utilities-__init__)
  * [auth](/python-sdk/fastmcp-utilities-auth)
  * [cli](/python-sdk/fastmcp-utilities-cli)
  * [components](/python-sdk/fastmcp-utilities-components)
  * [exceptions](/python-sdk/fastmcp-utilities-exceptions)
  * [http](/python-sdk/fastmcp-utilities-http)
  * [inspect](/python-sdk/fastmcp-utilities-inspect)
  * [json_schema](/python-sdk/fastmcp-utilities-json_schema)
  * [json_schema_type](/python-sdk/fastmcp-utilities-json_schema_type)
  * [logging](/python-sdk/fastmcp-utilities-logging)
  * [mcp_config](/python-sdk/fastmcp-utilities-mcp_config)
  * mcp_server_config

  * [openapi](/python-sdk/fastmcp-utilities-openapi)
  * [tests](/python-sdk/fastmcp-utilities-tests)
  * [types](/python-sdk/fastmcp-utilities-types)
  * [ui](/python-sdk/fastmcp-utilities-ui)



On this page

  * fastmcp.server



fastmcp.server

# __init__

Copy page

Copy page

# 

​

`fastmcp.server`

_This module is empty or contains only private/internal implementations._

[ typesPrevious](/python-sdk/fastmcp-resources-types)[__init__Next](/python-sdk/fastmcp-server-auth-__init__)

⌘I

[discord](https://discord.gg/uu8dJCgttd)[github](https://github.com/jlowin/fastmcp)[website](https://prefect.ai)[x](https://x.com/fastmcp)

[Powered by Mintlify](https://www.mintlify.com?utm_campaign=poweredBy&utm_medium=referral&utm_source=fastmcp)

================================================================================

